(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{"8f7f":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return void 0!==this.$store.state.hive.accounts[this.username]?n("q-card",{staticStyle:{"min-width":"100px","max-width":"95%"},attrs:{flat:"",bordered:""}},[n("q-card-section",{staticClass:"text-h5 text-center text-bold",attrs:{header:""}},[t._v("\n    Stake "+t._s(t.tokenName)+"\n  ")]),n("q-card-section",[n("div",[n("q-input",{attrs:{label:"To"},model:{value:t.toAccount,callback:function(e){t.toAccount=e},expression:"toAccount"}})],1),n("div",[n("q-input",{attrs:{label:"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),t.balance?n("div",{staticClass:"text-center text-caption"},[t._v("Available: "),n("span",{staticClass:"cursor-pointer text-bold text-primary",on:{click:function(e){t.amount=parseFloat(t.balance)}}},[t._v(t._s(t.balance))]),t._v(" "+t._s(t.tokenName))]):t.availableBalance?n("div",{staticClass:"text-center text-caption"},[t._v("Available: "),n("span",{staticClass:"cursor-pointer text-primary text-bold",on:{click:function(e){t.amount=parseFloat(t.availableBalance)}}},[t._v(t._s(t.availableBalance))]),t._v(" "+t._s(t.tokenName))]):t._e(),n("div",{staticClass:"text-center q-ma-md"},[""!==t.log?n("div",[t.err?n("q-icon",{attrs:{name:"error",color:"red"}}):t._e(),t._v(t._s(this.log))],1):t._e(),t.sent?t._e():n("q-btn",{attrs:{flat:"",label:"Stake",icon:"account_balance",color:"primary"},on:{click:function(e){return t.stake()}}})],1)])],1):t._e()},a=[],i=(n("c5f6"),n("28a5"),{name:"stakingDialog",data:function(){return{toAccount:this.username,amount:0,memo:"",err:!1,log:"",sent:!1}},props:{tokenName:{type:String,required:!0},network:{type:String,required:!1,default:"hive"},balance:{type:Number,required:!1,default:null},username:{type:String,required:!0},precision:{type:Number,required:!1,default:3},to:{type:String,required:!1,default:""}},components:{},computed:{availableBalance:function(){return"hive"===this.network&&"HIVE"===this.tokenName?this.$store.state.hive.accounts[this.username].balance.split(" ")[0]:"hive"===this.network&&"HBD"===this.tokenName?this.$store.state.hive.accounts[this.username].hbd_balance.split(" ")[0]:null}},methods:{setUsername:function(t){this.toAccount=t},stake:function(){"hive"===this.network?this.stakeHive():"hiveEngine"===this.network&&this.stakeHiveEngineKeychain()},stakeHive:function(){this.$store.commit("hive/addToQueue",[this.username,"active",["transfer_to_vesting",{to:this.toAccount,from:this.username,amount:parseFloat(this.amount).toFixed(this.precision)+" "+this.tokenName}]])},transferHiveKeychain:function(){console.log(this.username,this.toAccount,this.toAccount,parseFloat(this.amount).toFixed(this.precision),this.memo,this.tokenName),window.hive_keychain.requestTransfer(this.username,this.toAccount,parseFloat(this.amount).toFixed(this.precision),this.memo,this.tokenName,function(t,e){!0===t.success&&(this.err=!1,this.sent=!0,this.log=t.message),!1===t.success&&(this.err=!0,this.log=t.message)}.bind(this))},transferHiveEngineKeychain:function(){var t='{ "contractName": "tokens", "contractAction": "transfer", "contractPayload": { "symbol": "'+this.tokenName+'", "to": "'+this.toAccount+'", "quantity": "'+this.amount+'", "memo": "'+this.memo+'" } }';window.hive_keychain.requestCustomJson(this.username,"ssc-mainnet-hive","Active",t,"Transfer "+this.amount+" "+this.tokenName+" to "+this.toAccount,function(t){!0===t.success?(this.err=!1,this.sent=!0,this.log=t.message):(this.err=!0,this.log=t.message)}.bind(this))}},mounted:function(){void 0===this.$store.state.hive.accounts[this.username]&&this.$store.dispatch("hive/getAccount",this.username)}}),o=i,c=n("2877"),r=n("f09f"),u=n("a370"),l=n("27f9"),h=n("0016"),m=n("9c40"),d=n("eebe"),v=n.n(d),p=Object(c["a"])(o,s,a,!1,null,null,null);e["default"]=p.exports;v()(p,"components",{QCard:r["a"],QCardSection:u["a"],QInput:l["a"],QIcon:h["a"],QBtn:m["a"]})}}]);