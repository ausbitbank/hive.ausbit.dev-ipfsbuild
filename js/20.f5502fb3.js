(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"9d40":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex q-pa-md flex-center"},[a("div",[a("coingecko")],1),a("div",[a("tradingView",{staticClass:"q-ml-md",attrs:{options:t.tvOptions}})],1),a("internalMarket")],1)},i=[],r=a("b01b"),s=a("da6c"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.internalMarket.bids.length>0?a("q-card",{staticClass:"q-ml-md q-pa-none text-center",attrs:{dense:""}},[a("q-card-section",[a("q-list",{attrs:{separator:"",dense:""}},[a("q-item-label",{staticClass:"text-h5"},[t._v("Hive Internal Market")]),a("q-item-label",{staticClass:"text-h6"},[t._v("Offers to sell")]),t._l([5e3,1e3,100,10,1],(function(e){return a("q-item",{key:e.index,attrs:{dense:""}},[a("div",{staticStyle:{margin:"auto"}},[t._v(t._s(e)+" "),a("q-icon",{attrs:{name:"img:statics/hbd.svg",title:"HBD"}}),t._v(" of "),a("q-icon",{attrs:{name:"img:statics/hextacular.svg",title:"Hive"}}),t._v(" @ "),a("b",[t._v(t._s(t.getPrice(t.getMarketOrderAtDepth(t.internalMarket.asks,e))))])],1)])})),a("q-separator"),a("q-item-label",{staticClass:"text-h6"},[t._v("Offers to buy")]),t._l([1,10,100,1e3,5e3],(function(e){return a("q-item",{key:e.index,attrs:{dense:""}},[a("div",{staticStyle:{margin:"auto"}},[t._v(t._s(e)+" "),a("q-icon",{attrs:{name:"img:statics/hbd.svg",title:"HBD"}}),t._v(" of bids @ "),a("b",[t._v(t._s(t.getPrice(t.getMarketOrderAtDepth(t.internalMarket.bids,e))))])],1)])})),a("q-item-label",{staticClass:"text-h6"},[t._v("Recent Trades")]),t._l(t.internalMarket.trades,(function(e){return a("q-item",{key:e.index,attrs:{dense:""}},["buy"===t.getTradeLine(e).action?a("q-item-section",[a("div",[t._v(t._s(t.getTradeLine(e).maker.split(" ")[0])+" "),a("q-icon",{attrs:{name:"img:statics/hextacular.svg",title:"Hive"}}),a("span",{staticClass:"text-red"},[t._v(" sold")]),t._v(" @ "),a("b",[t._v(t._s(t.getTradeLine(e).price))])],1)]):a("q-item-section",[a("div",[t._v(t._s(t.getTradeLine(e).taker.split(" ")[0])+" "),a("q-icon",{attrs:{name:"img:statics/hextacular.svg",title:"Hive"}}),a("span",{staticClass:"text-green"},[t._v(" bought")]),t._v(" @ "),a("b",[t._v(t._s(t.getTradeLine(e).price))])],1)]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"history",color:"grey"}}),a("span",{staticClass:"text-caption text-grey"},[t._v(" "+t._s(t.timeDelta(e.date)))])],1)],1)}))],2)],1),t._e()],1):t._e()},c=[],o=(a("28a5"),a("c1df")),d=a.n(o),h={name:"internalMarket",data:function(){return{internalMarket:{bids:{},asks:{},trades:[]},internalMarketEnabled:this.$router.currentRoute.query.internalMarketEnabled||!0,internalMarketDepth:this.$router.currentRoute.query.internalMarketDepth||100}},methods:{getMarketOrderAtDepth:function(t,e){var a=t.filter((function(t){return t.hbdDepth>=e}));return t===this.internalMarket.asks?a[a.length-1]:a[0]},getPrice:function(t){return void 0===t?null:parseFloat(t.real_price).toFixed(3)},getTradeLine:function(t){var e=0,a=t.open_pays,n=t.current_pays;return"HBD"===a.split(" ")[1]?(e=(a.split(" ")[0]/n.split(" ")[0]).toFixed(3),{taker:n,maker:a,price:e,action:"sell"}):(e=(n.split(" ")[0]/a.split(" ")[0]).toFixed(3),{taker:n,maker:a,price:e,action:"buy"})},getMarketInfo:function(t){var e=this;this.$hive.api.getMarketOrderBookAsync(t).then((function(t){e.internalMarket.bids=t.bids,e.internalMarket.asks=t.asks,e.addMarketDepth()}))},getRecentTrades:function(t){var e=this;this.$hive.api.getRecentTradesAsync(t).then((function(t){e.internalMarket.trades=t}))},addMarketDepth:function(){var t=0,e=0;this.internalMarket.bids.forEach((function(a){t+=a.hive/100,e+=a.hbd/100,a.hiveDepth=t,a.hbdDepth=e})),t=0,e=0,this.internalMarket.asks.forEach((function(a){t+=a.hive/100,e+=a.hbd/100,a.hiveDepth=t,a.hbdDepth=e})),this.internalMarket.asks=this.internalMarket.asks.reverse()},timeDelta:function(t){var e=d.a.utc(),a=d.a.utc(t),n=a.diff(e,"minutes");return d.a.duration(n,"minutes").humanize(!0)},refreshMarket:function(){this.internalMarketEnabled&&(this.internalMarket.bids={},this.internalMarket.asks={},this.internalMarket.trades=[],this.getMarketInfo(this.internalMarketDepth),this.getRecentTrades(10))}},mounted:function(){this.refreshMarket()}},u=h,k=a("2877"),p=a("f09f"),v=a("a370"),m=a("1c1c"),b=a("0170"),f=a("66e5"),_=a("0016"),g=a("eb85"),M=a("4074"),T=a("4b7e"),D=a("9c40"),q=a("eebe"),I=a.n(q),B=Object(k["a"])(u,l,c,!1,null,null,null),C=B.exports;I()(B,"components",{QCard:p["a"],QCardSection:v["a"],QList:m["a"],QItemLabel:b["a"],QItem:f["a"],QIcon:_["a"],QSeparator:g["a"],QItemSection:M["a"],QCardActions:T["a"],QBtn:D["a"]});var E={name:"markets",data:function(){return{tvOptions:{symbol:"BINANCE:HIVEUSDT",interval:"240",isTransparent:!1,width:1e3,height:970,autosize:!1,showIntervalTabs:!0,locale:"en",theme:"dark",style:8,withdateranges:!0,details:!0,hide_top_toolbar:!1,hide_side_toolbar:!1,toolbar_bg:"#1d1d1d",watchlist:["BINANCE:HIVEUSDT","BITTREX:HIVEUSD","BITTREX:HIVEUSDT","HUOBI:HIVEUSDT","BINANCE:HIVEBTC","BITTREX:HIVEBTC","HUOBI:HIVEBTC","BITTREX:HBDBTC","BITTREX:HBDUSD","CRYPTOCAP:BTC.D","BITSTAMP:BTCUSD"]}}},computed:{},components:{coingecko:s["a"],tradingView:r["a"],internalMarket:C},mounted:function(){document.title="Markets"}},x=E,y=a("9989"),H=Object(k["a"])(x,n,i,!1,null,null,null);e["default"]=H.exports;I()(H,"components",{QPage:y["a"]})}}]);