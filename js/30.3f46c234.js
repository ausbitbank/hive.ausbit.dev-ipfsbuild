(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{da5c:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return void 0!==t.account?a("q-card",{staticStyle:{"min-width":"100px","max-width":"95%"},attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"text-h5 text-center text-bold",attrs:{header:""}},["deposit"===t.type?a("span",[t._v("Deposit "+t._s(t.tokenName)+" to Savings")]):"withdraw"===t.type?a("span",[t._v("Withdraw "+t._s(t.tokenName)+" from Savings")]):t._e()]),a("q-card-section",{staticClass:"text-center"},[a("div",{staticStyle:{"max-width":"350px",margin:"auto"}},[a("q-input",{attrs:{label:"From",disable:!0},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("q-input",{attrs:{label:"To"},model:{value:t.to,callback:function(e){t.to=e},expression:"to"}}),a("q-input",{attrs:{label:"Amount"},model:{value:t.amount,callback:function(e){t.amount=t._n(e)},expression:"amount"}}),"deposit"===t.type?a("div",[t._v(" Available Balance: "),a("b",{staticClass:"text-primary cursor-pointer",on:{click:function(e){t.amount=t.availableBalance}}},[t._v(t._s(t.availableBalance))]),t._v(" "+t._s(t.tokenName)+" ")]):t._e(),"withdraw"===t.type?a("div",[t._v(" Savings Balance: "),a("b",{staticClass:"text-primary cursor-pointer",on:{click:function(e){t.amount=t.availableSavings}}},[t._v(t._s(t.availableSavings))]),t._v(" "+t._s(t.tokenName)+" ")]):t._e(),"deposit"===t.type?a("q-slider",{attrs:{label:"","label-value":t.tokenName+": "+t.amount,markers:"",min:0,max:t.availableBalance,step:.001},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}):t._e(),"withdraw"===t.type?a("q-slider",{attrs:{label:"","label-value":t.tokenName+": "+t.amount,markers:"",min:0,max:t.availableSavings,step:.001},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}):t._e(),a("q-input",{attrs:{label:"Memo",caption:"A message included with the transfer"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("div",{staticClass:"text-center q-ma-md"},[""!==t.log?a("div",[t.err?a("q-icon",{attrs:{name:"error",color:"red"}}):t._e(),t._v(t._s(this.log))],1):t._e(),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.buttonLabel,icon:"savings",color:t.buttonColor},on:{click:function(e){return t.doTheThing()}}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel and Close",icon:"cancel",color:"primary"}})],1)])],1):t._e()},n=[],i=(a("c5f6"),a("28a5"),a("06db"),a("6b54"),a("a481"),{name:"savingsDepositDialog",data:function(){return{amount:0,memo:"",err:!1,log:"",sent:!1,to:this.username}},props:{tokenName:{type:String,required:!0},network:{type:String,required:!1,default:"hive"},username:{type:String,required:!0},precision:{type:Number,required:!1,default:3},type:{type:String,required:!1,default:"deposit"}},components:{},computed:{availableBalance:function(){return"hive"===this.network&"HIVE"===this.tokenName?parseFloat(this.account.balance.split(" ")[0]):"hive"===this.network&"HBD"===this.tokenName?parseFloat(this.account.hbd_balance.split(" ")[0]):0},availableSavings:function(){return"hive"===this.network&"HIVE"===this.tokenName?parseFloat(this.account.savings_balance.split(" ")[0]):"hive"===this.network&"HBD"===this.tokenName?parseFloat(this.account.savings_hbd_balance.split(" ")[0]):0},buttonLabel:function(){return"deposit"===this.type?"Deposit to savings":"Withdraw from savings"},buttonColor:function(){return"deposit"===this.type?"green":"red"},account:function(){return this.$store.state.hive.accounts[this.username]},loggedInUser:function(){return this.$store.state.hive.user.username},globalProps:function(){return this.$store.state.hive.globalProps}},methods:{doTheThing:function(){"deposit"===this.type?this.deposit():this.withdraw()},vestToHive:function(t){return this.globalProps?this.$hive.formatter.vestToHive(t,this.globalProps.total_vesting_shares,this.globalProps.total_vesting_fund_hive).toFixed(3):null},tidyNumber:function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},deposit:function(){this.$store.commit("hive/addToQueue",[this.username,"active",["transfer_to_savings",{from:this.username,to:this.to,amount:this.amount.toFixed(3)+" "+this.tokenName,memo:this.memo}]])},withdraw:function(){var t=Math.floor(1e4*Math.random()+1);this.$store.commit("hive/addToQueue",[this.username,"active",["transfer_from_savings",{from:this.username,to:this.to,request_id:t,amount:this.amount.toFixed(3)+" "+this.tokenName,memo:this.memo}]])}},mounted:function(){this.globalProps.empty&&this.$store.dispatch("hive/getGlobalProps"),void 0===this.$store.state.hive.accounts[this.username]&&this.$store.dispatch("hive/getAccount",this.username)}}),s=i,r=a("2877"),l=a("f09f"),u=a("a370"),c=a("27f9"),m=a("c1d0"),p=a("0016"),d=a("9c40"),h=a("7f67"),v=a("eebe"),b=a.n(v),f=Object(r["a"])(s,o,n,!1,null,null,null);e["default"]=f.exports;b()(f,"components",{QCard:l["a"],QCardSection:u["a"],QInput:c["a"],QSlider:m["a"],QIcon:p["a"],QBtn:d["a"]}),b()(f,"directives",{ClosePopup:h["a"]})}}]);