(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{ab28:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-center",style:t.coverImageStyle},[t.profile?o("router-link",{attrs:{to:"/@"+t.username}},[t.profile.profile_image?o("q-avatar",{staticClass:"q-pt-xs hvr",attrs:{size:"6rem"}},[o("q-img",{attrs:{src:t.getHiveAvatarUrl(t.username)}})],1):t._e()],1):t._e(),t.profile?t._e():o("div",[o("router-link",{attrs:{to:"/@"+t.username}},[t._v("@"+t._s(t.username))])],1),t.profile?o("div",[t.profile.name?o("div",{staticClass:"text-title text-bold"},[t._v(t._s(t.profile.name))]):t._e(),o("router-link",{attrs:{to:"/@"+t.username}},[t._v("@"+t._s(t.username))]),t.profile.about?o("div",{staticClass:"text-caption"},[t._v(t._s(t.profile.about))]):t._e(),t.profile.location?o("div",{staticClass:"text-subtitle text-grey"},[o("q-icon",{staticClass:"q-mr-xs",attrs:{name:"place"}}),t._v(t._s(t.profile.location))],1):t._e(),t.profile.website?o("div",{staticClass:"text-caption"},[o("q-icon",{staticClass:"q-mr-xs",attrs:{name:"open_in_browser"}}),o("a",{staticClass:"text-primary",attrs:{href:t.profile.website,target:"_blank"}},[t._v(t._s(t.profile.website.replace("https://","").replace("http://","").replace("www.","")))])],1):t._e(),o("user-services",{attrs:{username:t.username}})],1):t._e(),o("div",{staticClass:"text-center"},[t.account&&"0"!==t.roundedHPTidy&&null!==t.roundedHPTidy?o("span",{staticClass:"q-mr-md",attrs:{title:"Hive Power (rounded)"}},[o("q-icon",{attrs:{name:"img:statics/hive.svg"}}),t._v(" "+t._s(t.roundedHPTidy))],1):t._e(),t.account&&"1970-01-01T00:00:00"!==t.account.last_post?o("span",{staticClass:"q-mr-md text-caption"},[t._v("Posted: "),o("router-link",{attrs:{to:t.linkPosts(t.account.name)}},[o("span",{attrs:{title:t.account.last_post}},[t._v(t._s(t.timeDelta(t.account.last_post)))])])],1):t._e(),t.account&&"1970-01-01T00:00:00"!==t.account.last_vote_time?o("span",{staticClass:"text-caption"},[t._v("Voted: "+t._s(t.timeDelta(t.account.last_vote_time)))]):t._e(),t.loggedInUser&&t.username!==t.loggedInUser?o("q-fab",{attrs:{flat:"",dense:"",color:"primary",icon:"settings",direction:"left",persistent:!1,size:"xs"},on:{click:function(e){return t.getRelationship(t.username)}}},[null===t.relationship?o("q-spinner-grid",{attrs:{color:"primary"}}):t._e(),t.relationship?o("span",[t.relationship.follows?o("q-fab-action",{attrs:{"no-caps":"",push:"",dense:"",label:"Following",color:"primary",icon:"star"},on:{click:function(e){return t.unfollowUser(t.account.name)}}}):t._e(),t.relationship.follows?t._e():o("q-fab-action",{attrs:{"no-caps":"",push:"",dense:"",label:"Follow",color:"grey",icon:"person_add"},on:{click:function(e){return t.followUser(t.account.name)}}}),t.relationship.ignores?o("q-fab-action",{attrs:{"no-caps":"",push:"",dense:"",label:"Ignored",color:"red"},on:{click:function(e){return t.unignoreUser(t.account.name)}}}):t._e(),t.relationship.ignores||t.relationship.follows?t._e():o("q-fab-action",{attrs:{"no-caps":"",push:"",dense:"",label:"Ignore",color:"grey",icon:"volume_off"},on:{click:function(e){return t.ignoreUser(t.account.name)}}})],1):t._e()],1):t._e()],1),o("q-separator",{attrs:{color:"primary"}})],1)},s=[],i=(o("28a5"),o("06db"),o("6b54"),o("a481"),o("c1df")),a=o.n(i),r={name:"userCard",props:["username"],data:function(){return{relationship:null}},components:{userServices:function(){return Promise.all([o.e(0),o.e(1)]).then(o.bind(null,"71a9"))}},methods:{getHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},timeDelta:function(t){var e=a.a.utc(),o=a.a.utc(t),n=o.diff(e,"minutes");return a.a.duration(n,"minutes").humanize(!0)},linkPost:function(t,e){return"/@"+t+"/"+e},linkPosts:function(t){return"/@"+t+"/posts"},vestToHive:function(t){return this.globalProps?this.$hive.formatter.vestToHive(t,this.globalProps.total_vesting_shares,this.globalProps.total_vesting_fund_hive).toFixed(3):null},tidyNumber:function(t){if(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}return null},getRelationshipBetweenAccounts:function(t,e){var o=this,n="bridge.get_relationship_between_accounts",s=[t,e];this.$hive.api.callAsync(n,s).then((function(t){o.relationship=t}))},getRelationship:function(t){this.getRelationshipBetweenAccounts(this.loggedInUser,t)},followUser:function(t){var e='["follow", { "follower": "'+this.loggedInUser+'", "following": "'+t+'", "what": ["blog"] }]';this.relationship.follows=!0,this.$store.commit("hive/addToQueue",[this.loggedInUser,"posting",["custom_json",{required_posting_auths:[this.loggedInUser],id:"follow",json:e}]])},unfollowUser:function(t){var e='["follow", { "follower": "'+this.loggedInUser+'", "following": "'+t+'", "what": [] }]';this.relationship.follows=!1,this.$store.commit("hive/addToQueue",[this.loggedInUser,"posting",["custom_json",{required_posting_auths:[this.loggedInUser],id:"follow",json:e}]])},ignoreUser:function(t){var e='["follow", { "follower": "'+this.loggedInUser+'", "following": "'+t+'", "what": ["ignore"] }]';this.relationship.ignores=!0,this.$store.commit("hive/addToQueue",[this.loggedInUser,"posting",["custom_json",{required_posting_auths:[this.loggedInUser],id:"follow",json:e}]])},unignoreUser:function(t){this.relationship.ignores=!1,this.unfollowUser(t)}},mounted:function(){},computed:{account:function(){return this.$store.state.hive.accounts[this.username]},loggedInUser:function(){return this.$store.state.hive.user.username},meta:function(){return void 0!==this.account?this.account.posting_json_metadata?JSON.parse(this.account.posting_json_metadata):this.account.json_metadata?JSON.parse(this.account.json_metadata):null:null},profile:function(){return void 0!==this.account&&this.meta&&this.meta.profile?this.meta.profile:null},coverImage:function(){var t="";return void 0===this.account?t:this.account.posting_json_metadata&&JSON.parse(this.account.posting_json_metadata).profile&&JSON.parse(this.account.posting_json_metadata).profile.cover_image?JSON.parse(this.account.posting_json_metadata).profile.cover_image:t},roundedHPTidy:function(){return void 0!==this.account?this.tidyNumber(parseInt(this.vestToHive(this.account.vesting_shares.split(" ")[0]))):null},coverImageStyle:function(){return this.coverImage?{"background-image":"linear-gradient(rgba(0, 0, 0, 0.3) 0%, rgba(0, 0, 0, 0.3) 40%, rgba(10, 10, 10, 0.75) 100%), url("+this.coverImage+")","background-position":"center, center","background-repeat":"no-repeat","background-size":"cover","background-clip":"border-box, border-box","background-color":"rgba(0, 0, 0, 0)","background-attachment":"scroll, scroll"}:null},globalProps:function(){return this.$store.state.hive.globalProps}}},l=r,c=o("2877"),u=o("cb32"),p=o("068f"),d=o("0016"),g=o("c294"),h=o("981c"),f=o("72db"),m=o("eb85"),_=o("eebe"),v=o.n(_),b=Object(c["a"])(l,n,s,!1,null,null,null);e["default"]=b.exports;v()(b,"components",{QAvatar:u["a"],QImg:p["a"],QIcon:d["a"],QFab:g["a"],QSpinnerGrid:h["a"],QFabAction:f["a"],QSeparator:m["a"]})}}]);