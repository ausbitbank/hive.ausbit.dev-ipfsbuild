(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"05f2":function(e,t,n){},"0b18":function(e,t,n){"use strict";n("23bf"),n("06db"),n("7f7f"),n("8a81"),n("1c4c"),n("5df3"),n("cadf"),n("ac6a");var a=n("fa84"),i=n.n(a),o=n("967e"),r=n.n(o),s=n("677c"),c=n.n(s),l=n("a5fd"),u=n("ed66");function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function h(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p=5,f=function(){return Object(l["a"])()},g=function(e){return Object(l["d"])(e)&&Object(l["d"])(e).length>0},v=function(){var e=i()(r.a.mark((function e(t,n){var a,i=arguments;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=i.length>2&&void 0!==i[2]&&i[2],t&&"string"===typeof t&&!c.a.utils.validateAccountName(t)){e.next=3;break}throw new Error("Invalid username");case 3:if(n&&"string"===typeof n&&!(n.length<p)){e.next=5;break}throw new Error("Invalid password");case 5:return e.abrupt("return",Object(l["h"])(t,n,a));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=i()(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l["e"])(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=i()(r.a.mark((function e(t,n,a,i,o){var s,u;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&"string"===typeof t&&!c.a.utils.validateAccountName(t)){e.next=2;break}throw new Error("Invalid account name");case 2:if(n&&"string"===typeof n&&!(n.length<p)){e.next=4;break}throw new Error("Invalid password");case 4:if(a){e.next=6;break}throw new Error("Posting key is required");case 6:return e.next=8,c.a.api.getAccountsAsync([t]);case 8:if(s=e.sent,s&&Array.isArray(s)&&1===s.length){e.next=11;break}throw new Error("Account not found");case 11:if(u=s[0],c.a.auth.isWif(a)&&y(u,"posting",a)){e.next=14;break}throw new Error("Posting key not valid or not matching the current key for this account");case 14:if(!i||c.a.auth.isWif(i)&&y(u,"active",i)){e.next=16;break}throw new Error("Active key not valid or not matching the current key for this account");case 16:if(!o||c.a.auth.isWif(o)&&y(u,"memo",o)){e.next=18;break}throw new Error("Memo key not valid or not matching the current key for this account");case 18:return e.abrupt("return",Object(l["g"])(t,n,{posting:a,active:i,memo:o}));case 19:case"end":return e.stop()}}),e)})));return function(t,n,a,i,o){return e.apply(this,arguments)}}(),q=function(){var e=i()(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l["f"])(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t,n){try{if("memo"===t&&c.a.auth.wifIsValid(n,e.memo_key))return!0;var a,i=d(e[t].key_auths);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(c.a.auth.wifIsValid(n,o[0]))return!0}}catch(r){i.e(r)}finally{i.f()}}catch(s){console.error("Error validating private key: ",s)}return!1};t["a"]={allAccounts:f,isAccountUnlocked:g,unlockAccount:v,lockAccount:b,importAccount:k,removeAccount:q,api:u["a"]}},17:function(e,t){},"1e5b":function(e,t,n){},"2da0":function(e,t,n){"use strict";var a=n("1e5b"),i=n.n(a);i.a},"34cd":function(e,t,n){"use strict";var a=n("b209"),i=n.n(a);i.a},"713b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"hHh lpR fFf"}},[n("q-header",{attrs:{reveal:"",elevated:""}},[n("q-toolbar",{staticClass:"bg-dark text-primary q-electron-drag",attrs:{reveal:"",elevated:""}},[n("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),n("q-toolbar-title",[n("router-link",{staticClass:"q-electron-drag--exception text-primary",staticStyle:{"font-weight":"normal"},attrs:{to:"/"}},[n("q-icon",{staticStyle:{"max-width":"50%"},attrs:{name:"img:statics/hive.svg"}}),e._v(" hive.ausbit.dev ")],1)],1),n("searchbox"),null!==e.loggedInUser&&e.queue.length>0?n("queue"):e._e(),null!==e.loggedInUser?n("notifications"):e._e(),n("user-login"),n("q-btn",{attrs:{dense:"",flat:"",icon:"settings",title:"Settings",color:"grey"}},[n("q-popup-proxy",[n("settings")],1)],1),e.$q.platform.is.electron?n("span",[n("q-btn",{attrs:{dense:"",flat:"",icon:"cached",title:"refresh"},on:{click:e.refresh}}),n("q-btn",{attrs:{dense:"",flat:"",icon:"minimize",title:"minimize"},on:{click:e.minimize}}),n("q-btn",{attrs:{dense:"",flat:"",icon:"crop_square",title:"maximize"},on:{click:e.maximize}}),n("q-btn",{attrs:{dense:"",flat:"",icon:"close",title:"close"},on:{click:e.closeApp}})],1):e._e()],1)],1),n("q-drawer",{attrs:{side:"left",overlay:"",elevated:""},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[n("q-list",[n("q-item-label",{attrs:{header:""}}),e._l(e.essentialLinks,(function(t){return n("EssentialLink",e._b({key:t.title},"EssentialLink",t,!1))}))],2),n("div",{staticClass:"text-center"},[n("q-icon",{attrs:{name:"code",color:"grey",title:"coded"}}),e._v(" with "),n("q-icon",{attrs:{name:"favorite",color:"red",title:"love"}}),e._v(" by "),n("router-link",{attrs:{to:"/@ausbitbank"}},[e._v("ausbitbank")])],1)],1),n("q-page-container",[n("router-view",{class:e.backgroundStyle})],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-item",{attrs:{clickable:"",tag:"a"},on:{click:function(t){return e.open(e.link)}}},[e.icon?n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:e.icon,color:"secondary"}})],1):e._e(),n("q-item-section",[n("q-item-label",[e._v(e._s(e.title))]),n("q-item-label",{attrs:{caption:""}},[e._v("\n      "+e._s(e.caption)+"\n    ")])],1)],1)},r=[],s=n("b06b"),c={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}},methods:{open:function(e){Object(s["a"])(e)}}},l=c,u=n("2877"),d=n("66e5"),h=n("4074"),m=n("0016"),p=n("0170"),f=n("eebe"),g=n.n(f),v=Object(u["a"])(l,o,r,!1,null,null,null),b=v.exports;g()(v,"components",{QItem:d["a"],QItemSection:h["a"],QIcon:m["a"],QItemLabel:p["a"]});var k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-btn",{staticClass:"q-ml-md text-capitalize",attrs:{flat:"",dense:"",round:"","no-caps":"","aria-label":"Login"}},[n("q-avatar",[""!==e.loggedInUser&&null!==e.loggedInUser?n("q-img",{attrs:{src:e.userAvatar}}):n("q-icon",{attrs:{name:"login",color:"primary",title:"Login"}})],1),n("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.loggedInUser))]),n("q-popup-proxy",[n("q-card",{attrs:{flat:"",bordered:""}},[e.loggedInUser?n("div",[n("transition",{attrs:{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"}},[n("q-list",{staticClass:"text-primary text-center",attrs:{dense:"",bordered:""}},[n("q-item",{attrs:{clickable:"",to:e.linkFeed(e.loggedInUser)}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"rss_feed",color:"orange"}})],1),n("q-item-section",{staticClass:"text-orange"},[e._v("Feed")])],1),n("q-item",{attrs:{clickable:"",to:e.linkBlog(e.loggedInUser)}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"menu_book",color:"purple"}})],1),n("q-item-section",{staticClass:"text-purple"},[e._v("Blog")])],1),n("q-item",{attrs:{clickable:"",to:e.linkPosts(e.loggedInUser)}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"library_books",color:"deep-purple"}})],1),n("q-item-section",{staticClass:"text-deep-purple"},[e._v("Posts")])],1),n("q-item",{attrs:{clickable:"",to:e.linkCommunities(e.loggedInUser)}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"forum",color:"teal"}})],1),n("q-item-section",{staticClass:"text-teal"},[e._v("Communities")])],1),n("q-item",{attrs:{clickable:"",to:e.linkReplies(e.loggedInUser)}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"comment",color:"blue-grey"}})],1),n("q-item-section",{staticClass:"text-blue-grey"},[e._v("Replies")])],1),n("q-item",{attrs:{clickable:"",to:e.getAccountLink(e.loggedInUser)}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"perm_identity",color:"indigo"}})],1),n("q-item-section",{staticClass:"text-indigo"},[e._v("Profile")])],1),n("q-item",{attrs:{to:e.getWalletLink(e.loggedInUser)}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"account_balance",color:"green"}})],1),n("q-item-section",{staticClass:"text-green"},[e._v("Wallet")])],1),n("q-item",{attrs:{to:e.linkExchange(e.loggedInUser)}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"swap_vertical_circle",color:"orange"}})],1),n("q-item-section",{staticClass:"text-orange"},[e._v("Exchange")])],1),n("q-item",{attrs:{to:"/market"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"store",color:"orange"}})],1),n("q-item-section",{staticClass:"text-orange"},[e._v("Market")])],1),void 0!==e.account&&e.account.witness_votes.includes(e.loggedInUser)?n("q-item",{attrs:{to:"/witness"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"admin_panel_settings",color:"deep-orange-6"}})],1),n("q-item-section",{staticClass:"text-deep-orange-6"},[e._v("Witness")])],1):e._e(),n("q-item",{attrs:{clickable:""},on:{click:function(t){e.settingsDialog=!e.settingsDialog}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"settings",color:"grey"}})],1),n("q-item-section",{staticClass:"text-grey"},[e._v("Settings")])],1),n("q-item",{attrs:{clickable:""},on:{click:function(t){return e.logout()}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{staticClass:"hvr",attrs:{name:"exit_to_app",color:"red"}})],1),n("q-item-section",{staticClass:"text-red"},[e._v("Logout")])],1),n("q-item",[n("q-linear-progress",{staticClass:"q-mt-none",attrs:{dark:"",stripe:"",rounded:"",size:"20px",value:e.votePower,color:"blue",title:"Vote Power %"}},[n("div",{staticClass:"absolute-full flex flex-center"},[n("q-badge",{attrs:{color:"black","text-color":"primary"}},[e._v("VP "+e._s(e.votePower)+" %")])],1)])],1)],1)],1)],1):n("q-list",{attrs:{dense:""}},[n("q-item-label",{staticClass:"text-center",attrs:{header:""}},[e._v("\n          Login as:\n        ")]),n("q-item",[n("userSearchBox",{staticClass:"text-center",attrs:{label:"Username"},on:{selectUsername:e.setUsername}})],1),""!==e.username?n("q-item",{attrs:{dense:""}},[e.$q.platform.is.electron?e._e():n("q-btn",{attrs:{label:"Hive-Keychain",icon:"img:statics/hive-keychain.svg"},on:{click:function(t){return e.checkLoginKeychain(e.username)}}}),e._e(),e._e(),n("q-btn",{attrs:{label:"SmartLock",icon:"lock"}},[n("q-popup-proxy",[n("q-card",{staticClass:"q-pa-lg rounded-borders"},[n("q-input",{attrs:{label:"Username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("q-input",{attrs:{label:"Posting Key",filled:"",type:"password",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.postkey,callback:function(t){e.postkey=t},expression:"postkey"}}),n("q-input",{attrs:{label:"Active Key (optional)",filled:"",type:"password"},model:{value:e.activekey,callback:function(t){e.activekey=t},expression:"activekey"}}),n("q-input",{attrs:{label:"Memo Key (optional)",filled:"",type:"password"},model:{value:e.memokey,callback:function(t){e.memokey=t},expression:"memokey"}}),n("q-input",{attrs:{label:"Unlock Password",filled:"",type:"password",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("q-btn",{attrs:{flat:"",glossy:"",dense:"",label:"Save and login",icon:"save",color:"primary"},on:{click:function(t){return e.smartLockImportAccount()}}})],1)],1)],1),e.HASWaitInfo.wait?n("HASWait",{attrs:{params:e.HASWaitInfo}}):e._e()],1):e._e(),n("q-item",[n("q-item-section",[n("q-btn",{attrs:{icon:"img:statics/member.png",flat:"",label:"'Member ?",title:"Save your username to the local browser storage for faster future logins"},on:{click:function(t){e.rememberLogin=!e.rememberLogin}}},[n("q-checkbox",{model:{value:e.rememberLogin,callback:function(t){e.rememberLogin=t},expression:"rememberLogin"}})],1)],1)],1),n("div",{staticClass:"text-center"},[e.savedUsers.length>0?n("div",[e._v("Hive-Keychain logins")]):e._e(),e._l(e.savedUsers,(function(t){return n("q-item",{key:t.index},[n("q-item-section",[n("q-chip",{attrs:{outline:"",size:"md",removable:"",clickable:""},on:{remove:function(n){return e.removeSavedUser(t)},click:function(n){e.rememberLogin=!0,e.checkLoginKeychain(t)}}},[n("q-avatar",[n("q-img",{attrs:{src:e.getHiveAvatarUrl(t)}})],1),e._v(" "+e._s(t))],1)],1)],1)})),e.savedUsersSmartLock.length>0?n("div",[e._v("SmartLock logins")]):e._e(),e._l(e.savedUsersSmartLock,(function(t){return n("q-item",{key:t.index},[n("q-item-section",[n("q-chip",{attrs:{outline:"",size:"md",removable:"",clickable:""},on:{remove:function(n){return e.smartLockRemoveAccount(t)},click:function(n){e.rememberLogin=!0,e.checkLoginSmartLock(t)}}},[n("q-avatar",[n("q-img",{attrs:{src:e.getHiveAvatarUrl(t)}})],1),e._v(" "+e._s(t))],1)],1),e._e()],1)}))],2)],1)],1)],1),n("q-dialog",{model:{value:e.settingsDialog,callback:function(t){e.settingsDialog=t},expression:"settingsDialog"}},[n("settings")],1)],1)},q=[],y=n("deef"),_=y["a"],w=(n("34cd"),n("9c40")),x=n("cb32"),A=n("068f"),S=n("7cbe"),I=n("f09f"),C=n("1c1c"),U=n("6b1d"),Q=n("58a8"),$=n("27f9"),L=n("8f8e"),H=n("b047"),N=n("24e8"),B=Object(u["a"])(_,k,q,!1,null,null,null),O=B.exports;g()(B,"components",{QBtn:w["a"],QAvatar:x["a"],QImg:A["a"],QIcon:m["a"],QPopupProxy:S["a"],QCard:I["a"],QList:C["a"],QItem:d["a"],QItemSection:h["a"],QLinearProgress:U["a"],QBadge:Q["a"],QItemLabel:p["a"],QInput:$["a"],QCheckbox:L["a"],QChip:H["a"],QDialog:N["a"]});var P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loggedInUser?n("q-btn",{attrs:{flat:"",icon:"notifications"}},[this.$store.state.hive.user.unreadNotificationCount>0?n("q-badge",{attrs:{color:"primary",floating:""}},[e._v(e._s(this.$store.state.hive.user.unreadNotificationCount))]):e._e(),n("q-popup-proxy",[n("transition",{attrs:{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"}},[n("q-card",{staticClass:"text-center q-pa-sm q-ma-none",attrs:{dense:"",flat:"",bordered:""}},[n("q-card-section",{staticClass:"text-title flex-center text-center",attrs:{horizontal:"",dense:""}},[null===e.notifications?n("span",[e._v("No ")]):e._e(),e._v("Notifications "),this.$store.state.hive.user.unreadNotificationCount>0?n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"check_circle",size:"sm",color:"green",title:"Mark all notifications as read"},on:{click:function(t){return e.markNotificationsRead()}}}):e._e(),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"refresh",size:"sm",color:"blue",title:"Refresh notifications"},on:{click:function(t){return e.getUnreadNotificationCount()}}})],1),null!==e.notifications?n("q-separator"):e._e(),this.$store.state.hive.user.unreadNotificationCount>0?n("q-card-section",{staticClass:"q-ma-none q-pa-none"},[null!==this.notifications?n("q-list",{staticClass:"q-pa-none q-ma-none",attrs:{separator:"",dense:""}},e._l(this.notifications,(function(t){return n("q-item",{key:t.index,attrs:{clickable:"",dense:""},on:{click:function(n){return e.$router.push("/"+t.url)}}},[n("q-item-section",{attrs:{avatar:""}},[n("router-link",{attrs:{to:t.url}},[t.msg?n("q-avatar",{attrs:{size:"md"}},[n("q-img",{attrs:{src:e.getHiveAvatarUrl(e.getUserFromMention(t.msg))}})],1):e._e()],1)],1),t.msg?n("q-item-section",[n("q-item-label",[e._v("\n          "+e._s(t.msg.substr(1))+"\n        ")]),n("q-item-label",{attrs:{caption:""}},[n("router-link",{attrs:{to:e.getUrl(t.url)}},[e._v(e._s(t.url.substr(0,40)))])],1),n("q-item-label",{attrs:{caption:""}},[e._v("\n          "+e._s(e.timeDelta(t.date))+"\n        ")])],1):e._e(),n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:"circle",size:e.returnScoreSize(t.score),color:e.returnScoreColor(t.score),title:t.score}})],1)],1)})),1):e._e()],1):e._e(),e._e()],1)],1)],1)],1):e._e()},E=[],j=n("fa84"),T=n.n(j),D=(n("28a5"),n("967e")),W=n.n(D),z=n("c1df"),F=n.n(z),M={name:"notifications",props:[],data:function(){return{loading:!1,last_id:null,limit:100}},computed:{loggedInUser:{get:function(){return this.$store.state.hive.user.username}},notifications:{get:function(){return this.$store.state.hive.user.notifications},set:function(e){this.$store.commit("hive/updateNotifications",e)}},unreadNotificationCount:{get:function(){return this.$store.state.hive.user.unreadNotificationCount},set:function(e){this.$store.commit("hive/updateUnreadNotificationCount",e)}}},watch:{loggedInUser:function(e,t){""!==e&&this.getUnreadNotificationCount()}},methods:{getHiveAvatarUrl:function(e){return"https://images.hive.blog/u/"+e+"/avatar"},getAccountLink:function(e){return"/@"+e},getNotifications:function(){var e=this;return T()(W.a.mark((function t(){var n;return W.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,n={account:e.loggedInUser,last_id:e.last_id,limit:Math.min(e.unreadNotificationCount,e.limit)},e.$hive.api.callAsync("bridge.account_notifications",n).then((function(t){e.notifications=t,e.loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},getUnreadNotificationCount:function(){var e=this;return T()(W.a.mark((function t(){var n;return W.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,n={account:e.loggedInUser},e.$hive.api.callAsync("bridge.unread_notifications",n).then((function(t){e.unreadNotificationCount=t.unread,e.loading=!1,0===e.unreadNotificationCount&&(e.notifications=null),e.unreadNotificationCount>0&&e.getNotifications()}));case 3:case"end":return t.stop()}}),t)})))()},markNotificationsRead:function(){var e=this;return T()(W.a.mark((function t(){var n;return W.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n='[ "setLastRead",{"date":"'+F.a.utc().format("YYYY-MM-DDTHH:mm:ss")+'"}]',e.$store.commit("hive/addToQueue",[e.loggedInUser,"posting",["custom_json",{required_posting_auths:[e.loggedInUser],id:"notify",json:n}]]);case 2:case"end":return t.stop()}}),t)})))()},filterMentions:function(e){return"mention"===e.type},getRelativeTime:function(e){return F()(e).fromNow()},getUrl:function(e){return"/"+e},getUserFromMention:function(e){return e.split(" ")[0].substr(1)},timeDelta:function(e){var t=F.a.utc(),n=F.a.utc(e),a=n.diff(t,"minutes");return F.a.duration(a,"minutes").humanize(!0)},returnScoreColor:function(e){var t=parseInt(e);return t>=90?"red-14":t>=75?"deep-purple":t>=60?"indigo":t>=45?"blue":t>=30?"light-blue":"grey"},returnScoreSize:function(e){var t=parseInt(e);return t>=90?"lg":t>=60?"md":t>=20?"sm":t>=0?"xs":void 0}},mounted:function(){""!==this.loggedInUser&&this.getUnreadNotificationCount()}},R=M,K=n("a370"),J=n("eb85"),V=n("4b7e"),Y=n("7f67"),G=Object(u["a"])(R,P,E,!1,null,null,null),Z=G.exports;g()(G,"components",{QBtn:w["a"],QBadge:Q["a"],QPopupProxy:S["a"],QCard:I["a"],QCardSection:K["a"],QSeparator:J["a"],QList:C["a"],QItem:d["a"],QItemSection:h["a"],QAvatar:x["a"],QImg:A["a"],QItemLabel:p["a"],QIcon:m["a"],QCardActions:V["a"]}),g()(G,"directives",{ClosePopup:Y["a"]});var X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-form",{staticClass:"gt-xs q-mr-md q-electron-drag--exception",on:{submit:e.onSearchSubmit,reset:e.onSearchReset}},[n("q-input",{staticClass:"q-ml-md",attrs:{dense:"","input-class":"text-right",debounce:"3000",label:"Search Account, Txid or Block"},scopedSlots:e._u([{key:"append",fn:function(){return[""!==e.search?n("q-icon",{attrs:{name:"search"},on:{click:e.onSearchSubmit}}):e._e(),""!==e.search?n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(t){e.search=""}}}):e._e()]},proxy:!0}]),model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)},ee=[],te=(n("386d"),{name:"searchbox",data:function(){return{usernameSuggestions:[],val:"",search:""}},methods:{onSearchSubmit:function(){this.search=this.search.toLowerCase(),isNaN(this.search)?40===this.search.length?this.$router.push("/tx/"+this.search):this.validateUsername(this.search)&&this.$router.push({path:"/@"+this.search}):this.$router.push("/block/"+this.search)},onSearchReset:function(){this.search=""},validateUsername:function(e){return null===this.$hive.utils.validateAccountName(e)||(this.$q.notify(this.$hive.utils.validateAccountName(e)),!1)},searchHiveUsernames:function(){var e=this,t=this.search;if(!(t.length<2)){var n=t.toLowerCase();this.$hive.api.lookupAccountsAsync(n,10).then((function(t){e.usernameSuggestions=t}))}}}}),ne=te,ae=n("0378"),ie=Object(u["a"])(ne,X,ee,!1,null,null,null),oe=ie.exports;g()(ie,"components",{QForm:ae["a"],QInput:$["a"],QIcon:m["a"]});var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{appear:"","enter-active-class":"animated bounceInDown","leave-active-class":"animated bounceOutUp"}},[n("q-btn",{attrs:{flat:"",icon:"schedule",title:"Queued actions"}},[n("q-badge",{attrs:{color:"orange",floating:""}},[e._v(e._s(e.queue.length))]),n("q-popup-proxy",[n("q-card",{staticClass:"q-pa-sm q-ma-none",attrs:{flat:"",bordered:""}},[n("q-card-section",{staticClass:"text-title text-bold flex-center text-center",attrs:{horizontal:""}},[e._v("\n        "+e._s(e.queue.length)+" Queued Actions\n        "),e.timerEnabled?n("q-btn",{attrs:{dense:"",flat:"",icon:"play_circle",color:"green",title:"Queue is running, click to pause"},on:{click:function(t){return e.toggleTimer()}}}):e._e(),e.timerEnabled?e._e():n("q-btn",{attrs:{dense:"",flat:"",icon:"pause_circle",color:"orange",title:"Queue is paused, click to continue"},on:{click:function(t){return e.toggleTimer()}}}),e.queue.length>0?n("q-btn",{attrs:{dense:"",flat:"",icon:"cancel",color:"red",title:"Cancel queued actions"},on:{click:function(t){return e.$store.commit("hive/clearQueue")}}}):e._e()],1),this.queue.length>0?n("q-separator"):e._e(),this.queue.length>0?n("q-card-section",{staticClass:"q-ma-none q-pa-none"},[n("q-list",{attrs:{separator:"",dense:""}},e._l(this.queue,(function(t,a){return n("q-item",{key:a,attrs:{clickable:"",dense:""}},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",[n("q-img",{attrs:{src:e.getHiveAvatarUrl(t[0])}})],1),"posting"===t[1]?n("q-avatar",[n("q-icon",{attrs:{name:"lock",title:"Posting key",color:"green"}})],1):e._e(),"active"===t[1]?n("q-avatar",[n("q-icon",{attrs:{name:"lock",title:"Active key",color:"orange"}})],1):e._e()],1),n("q-item-section",[n("jsonViewer",{attrs:{data:t[2]}})],1),n("q-item-section",{attrs:{side:""}},[0===a&&e.timerEnabled?n("q-spinner-clock",{attrs:{color:"grey",size:"md"}}):e._e(),n("q-btn",{attrs:{title:"Remove from queue",icon:"cancel",color:"red",dense:"",flat:""},on:{click:function(n){return e.$store.commit("hive/removeFromQueue",t)}}}),n("q-btn",{attrs:{title:"Broadcast",icon:"send",color:"orange",dense:"",flat:""},on:{click:function(n){return e.broadcast(t)}}})],1)],1)})),1)],1):e._e()],1)],1)],1)],1)},se=[],ce=(n("6762"),n("06db"),n("6b54"),n("8e27")),le=n("0b18"),ue=n("a00c"),de={name:"queue",data:function(){return{timerStart:600,timerEnabled:!0,pastQueue:[]}},components:{jsonViewer:ue["default"]},computed:{loggedInUser:function(){return this.$store.state.hive.user.username},loginType:function(){return this.$store.state.hive.user.loginType},queue:function(){return this.$store.state.hive.queue},globalProps:function(){return this.$store.state.hive.globalProps}},methods:{toggleTimer:function(){this.timerEnabled=!this.timerEnabled,this.timerEnabled&&setTimeout(this.broadcastNext,this.timerStart)},successfullBroadcast:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$store.commit("hive/removeFromQueue",e),this.pastQueue.push(e),console.log(this.pastQueue),t&&this.$q.notify({message:"Sent "+e[2][0],color:"green",avatar:this.getHiveAvatarUrl(e[0]),icon:"check_circle",position:"top",progress:!0}),this.timerEnabled&&this.queue.length>0&&setTimeout(this.broadcastNext,this.timerStart),["claim_reward_balance","account_update","account_update2","withdraw_vesting"].includes(e[2][0])&&this.$store.dispatch("hive/getAccount",e[2][1].account),["transfer","transfer_to_savings","transfer_from_savings","transfer_to_vesting","cancel_transfer_from_savings"].includes(e[2][0])&&this.$store.dispatch("hive/getAccount",e[2][1].from),["convert","collateralized_convert","limit_order_cancel","limit_order_create"].includes(e[2][0])&&this.$store.dispatch("hive/getAccount",e[2][1].owner)},broadcastNext:function(){this.queue.length>0&&this.broadcast(this.queue[0])},broadcast:function(e){var t=this,n=e[0],a=e[1],i=[e[2]];"smartlock"===this.loginType&&le["a"].isAccountUnlocked(n)&&(console.log("hive-js broadcast"),"active"===a?this.getPasswordForAction(e):"posting"===a&&le["a"].api.broadcastAsync(n,i,a).then((function(n){n.success&&t.successfullBroadcast(e)})).catch((function(e){return console.error(e)}))),"keychain"===this.loginType&&this.broadcastKeychain(e),"hivesigner_popup"===this.loginType&&this.broadcastHivesignerPopup(e),"has"===this.loginType&&(console.log("Broadcast with HAS"),console.log(e))},broadcastHivesignerPopup:function(e){console.log(e);var t="https://www.hivesigner.com/sign/"+e[2][0]+"?",n=e[2][1],a=new URLSearchParams(n);t+=a.toString(),Object(s["a"])(t),this.$q.notify("Opened hivesigner popup: "+t),this.successfullBroadcast(e,!1)},broadcastKeychain:function(e){var t=this;return T()(W.a.mark((function n(){var a,i,o,r,s,c,l,u,d,h,m,p,f,g,v,b,k,q,y,_,w,x,A;return W.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e[0],i=e[1],o=e[2],r=[o],"vote"!==o[0]){n.next=16;break}return n.next=7,Object(ce["keychain"])(window,"requestVote",a,o[1].permlink,o[1].author,o[1].weight);case 7:s=n.sent,c=s.success,l=s.msg,u=s.cancel,d=s.notInstalled,h=s.notActive,c&&t.successfullBroadcast(e),u&&t.$q.notify("Cancelled by user"),u||(h?t.$q.notify("Please allow keychain to access this website"):d?t.$q.notify("Keychain not available"):console.info(l));case 16:if("comment"!==o[0]){n.next=32;break}return m=o[1].comment_options,delete o[1].comment_options,n.next=21,Object(ce["keychain"])(window,"requestPost",a,o[1].title,o[1].body,o[1].parent_permlink,o[1].parent_author,JSON.stringify(o[1].json_metadata),o[1].permlink,JSON.stringify(m));case 21:p=n.sent,f=p.success,g=p.msg,v=p.cancel,b=p.notInstalled,k=p.notActive,f&&t.successfullBroadcast(e),v&&t.$q.notify("Cancelled by user"),v||(k?t.$q.notify("Please allow keychain to access this website"):b?t.$q.notify("Keychain not available"):console.info(g)),n.next=43;break;case 32:return n.next=34,Object(ce["keychain"])(window,"requestBroadcast",a,JSON.parse(JSON.stringify(r)),i);case 34:q=n.sent,y=q.success,_=q.msg,w=q.cancel,x=q.notInstalled,A=q.notActive,y&&t.successfullBroadcast(e),w&&t.$q.notify("Cancelled by user"),w||(A?t.$q.notify("Please allow keychain to access this website"):x?t.$q.notify("Keychain not available"):console.info(_));case 43:case"end":return n.stop()}}),n)})))()},getHiveAvatarUrl:function(e){return"https://images.hive.blog/u/"+e+"/avatar"},getPasswordForAction:function(e){var t=this,n=e[0];this.$q.dialog({dark:!0,title:"Verify password for "+n,message:"Password required for "+n,prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((function(a){le["a"].api.broadcastAsync(n,[e[2]],"active",a).then((function(n){n.success&&t.successfullBroadcast(e)})).catch((function(e){return console.error(e)}))})).onCancel((function(){})).onDismiss((function(){}))},vestToHive:function(e){return this.globalProps?this.$hive.formatter.vestToHive(e,this.globalProps.total_vesting_shares,this.globalProps.total_vesting_fund_hive).toFixed(3):null}},mounted:function(){this.globalProps.empty&&this.$store.dispatch("hive/getGlobalProps"),this.timerEnabled&&this.queue.length>0&&setTimeout(this.broadcastNext,this.timerStart)}},he=de,me=n("148b"),pe=Object(u["a"])(he,re,se,!1,null,null,null),fe=pe.exports;g()(pe,"components",{QBtn:w["a"],QBadge:Q["a"],QPopupProxy:S["a"],QCard:I["a"],QCardSection:K["a"],QSeparator:J["a"],QList:C["a"],QItem:d["a"],QItemSection:h["a"],QAvatar:x["a"],QImg:A["a"],QIcon:m["a"],QSpinnerClock:me["a"]});var ge=n("8aab"),ve={name:"MainLayout",components:{EssentialLink:b,userLogin:O,Notifications:Z,searchbox:oe,queue:fe,settings:ge["a"]},methods:{minimize:function(){0},maximize:function(){},closeApp:function(){0},refresh:function(){window.location.reload()}},computed:{loggedInUser:{get:function(){return this.$store.state.hive.user.username}},queue:{get:function(){return this.$store.state.hive.queue}},backgroundStyle:function(){return this.$store.state.hive.user.settings.darkBackground?"":"gradientBg"}},data:function(){return{search:"",leftDrawerOpen:!1,searchSuggestions:null,darkBackgroundToggle:!0,essentialLinks:[{title:"Front page",caption:"hive.ausbit.dev",icon:"home",link:"https://hive.ausbit.dev"},{title:"Create an Account",caption:"hiveonboard.com",icon:"person_add",link:"https://hiveonboard.com?ref=ausbitbank"},{title:"Developer Docs",caption:"developers.hive.io",icon:"code",link:"https://developers.hive.io"},{title:"Hive Source",caption:"gitlab.syncad.com/hive",icon:"code",link:"https://gitlab.syncad.com/hive/"},{title:"Site Source",caption:"github.com/ausbitbank/hive.ausbit.dev-src",icon:"code",link:"https://github.com/ausbitbank/hive.ausbit.dev-src"},{title:"Hive Discord",caption:"myhive.li/discord",icon:"chat",link:"https://myhive.li/discord"},{title:"Hive Telegram",caption:"t.me/hiveblockchain",icon:"chat",link:"https://t.me/hiveblockchain"},{title:"OpenHive.chat",caption:"openhive.chat",icon:"chat",link:"https://openhive.chat"},{title:"Browse with peakD",caption:"peakD.com",icon:"web",link:"https://peakd.com/@ausbitbank"},{title:"Browse with Hive.blog",caption:"Hive.blog/@ausbitbank",icon:"web_asset",link:"https://hive.blog/@ausbitbank"},{title:"Trade HIVE on Binance",caption:"Binance.com affiliate link",icon:"monetization_on",link:"https://www.binance.com/en/register?ref=WOL9Y5F6"},{title:"Trade HIVE on Bittrex",caption:"Bittrex.com affiliate link",icon:"monetization_on",link:"https://bittrex.com/Account/Register?referralCode=PPA-HMA-3VD"},{title:"Trade HIVE on Mandala (NO KYC)",caption:"Mandala.exchange affiliate link",icon:"monetization_on",link:"https://trade.mandala.exchange/account/signup?ref=58LK6651"},{title:"Trade HIVE on Ionomy (NO KYC)",caption:"Ionomy.com affiliate link",icon:"monetization_on",link:"https://ionomy.com/en/aff/c91aa3ae712e0ab1d5eb1cd8c007bc70"},{title:"Anonymous Servers for Crypto",caption:"Privex.io affiliate link",icon:"monetization_on",link:"https://www.privex.io/?r=ausbitbank"},{title:"Project announcement post",caption:"ANN",icon:"help",link:"https://hive.ausbit.dev/@ausbitbank/hive-ausbit-dev-an-open-source-hive-block-explorer-post-viewer-and-more"}]}}},be=ve,ke=(n("2da0"),n("4d5a")),qe=n("e359"),ye=n("65c6"),_e=n("6ac5"),we=n("9404"),xe=n("09e3"),Ae=Object(u["a"])(be,a,i,!1,null,null,null);t["default"]=Ae.exports;g()(Ae,"components",{QLayout:ke["a"],QHeader:qe["a"],QToolbar:ye["a"],QBtn:w["a"],QToolbarTitle:_e["a"],QIcon:m["a"],QPopupProxy:S["a"],QDrawer:we["a"],QList:C["a"],QItemLabel:p["a"],QPageContainer:xe["a"]})},"80f0":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));n("06db"),n("6b54");var a=n("fbbf"),i=n.n(a),o=n("0774"),r=n.n(o);function s(t,n){var a=i.a.encrypt(n,t),o=e.from(a,"utf8"),s=r.a.encode(o);return s}function c(e,t){var n=r.a.decode(e),a=i.a.decrypt(t,n.toString("utf8"));return a}}).call(this,n("1c35").Buffer)},"8aab":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticClass:"rounded-corners q-pa-sm",attrs:{flat:"",bordered:""}},[n("div",{staticClass:"text-h5 text-center"},[e._v("Settings")]),n("q-list",{attrs:{dense:""}},[n("q-item",[n("q-item-label",{attrs:{header:""}},[e._v("\n          Background Style\n        ")]),n("q-item-section",[n("q-toggle",{attrs:{label:e.getBackgroundLabel()},model:{value:e.darkBackground,callback:function(t){e.darkBackground=t},expression:"darkBackground"}})],1)],1),n("q-item",[n("q-item-label",{attrs:{header:""}},[e._v("\n          Default vote %\n        ")]),n("q-item-section",[n("q-slider",{attrs:{min:-100,max:100,color:e.voteColor,label:"","label-always":""},model:{value:e.voteWeightPost,callback:function(t){e.voteWeightPost=t},expression:"voteWeightPost"}})],1)],1),e._e(),n("q-item",[n("q-item-label",{attrs:{header:""}},[e._v("\n          Default beneficiary\n        ")]),e._l(e.beneficiaries,(function(t){return n("div",{key:t.index},[e._v("\n          "+e._s(t.weight/100)+" % to "+e._s(t.account)+"\n          "),n("q-btn",{attrs:{title:"Edit",icon:"edit",color:"orange",dense:"",flat:""}},[n("q-popup-proxy",[n("q-card",{staticClass:"q-pa-md"},[e._v("\n              "+e._s(t.account)+" : "),n("q-input",{attrs:{label:"Weight (0-10000)"},model:{value:t.weight,callback:function(n){e.$set(t,"weight",e._n(n))},expression:"bene.weight"}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"save",color:"primary",dense:"",flat:""},on:{click:function(n){return e.editBene(t.account,t.weight)}}})],1)],1)],1),n("q-btn",{attrs:{title:"Remove",icon:"delete",color:"red",dense:"",flat:""},on:{click:function(n){return e.removeBene(t.account)}}}),n("q-btn",{attrs:{color:"green",icon:"person_add",dense:"",flat:""}},[n("q-popup-proxy",[n("q-card",{staticClass:"q-pa-md",attrs:{flat:"",bordered:""}},[e._v("\n                Add new beneficiary"),n("br"),n("q-input",{attrs:{label:"Account"},model:{value:e.newBeneAccount,callback:function(t){e.newBeneAccount=t},expression:"newBeneAccount"}}),n("q-input",{attrs:{label:"Weight (0-10000)"},model:{value:e.newBeneWeight,callback:function(t){e.newBeneWeight=e._n(t)},expression:"newBeneWeight"}}),n("q-btn",{attrs:{icon:"save",color:"primary",dense:"",flat:""},on:{click:function(t){return e.addBene(e.newBeneAccount,e.newBeneWeight)}}})],1)],1)],1)],1)}))],2),n("q-item",[n("q-item-label",{attrs:{header:""}},[e._v("\n          Hive Api Node\n        ")]),n("q-input",{attrs:{label:"Hive Api Node"},model:{value:e.apiNode,callback:function(t){e.apiNode=t},expression:"apiNode"}})],1),n("q-item",[n("q-item-label",{attrs:{header:""}},[e._v("\n          Hive Account History Node\n        ")]),n("q-input",{attrs:{label:"Hive Account History Node"},model:{value:e.ahNode,callback:function(t){e.ahNode=t},expression:"ahNode"}})],1),n("q-item",[n("q-item-label",{attrs:{header:""}},[e._v("\n          Hive-Engine Api Node\n        ")]),n("q-input",{attrs:{label:"Hive-Engine Api Node"},model:{value:e.heApiNode,callback:function(t){e.heApiNode=t},expression:"heApiNode"}})],1),n("q-item",[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"hvr",staticStyle:{margin:"auto"},attrs:{label:"Save",color:"primary",flat:"",icon:"save"},on:{click:function(t){return e.saveSettings()}}})],1)],1)],1)},i=[],o=(n("0b21"),n("20d6"),{name:"settings",data:function(){return{darkBackground:this.$store.state.hive.user.settings.darkBackground,voteWeightPost:this.$store.state.hive.user.settings.voteWeightPost,voteWeightComment:this.$store.state.hive.user.settings.voteWeightComment,beneficiaries:this.$store.state.hive.user.settings.beneficiary,newBeneAccount:"",newBeneWeight:1e3,apiNode:this.$store.state.hive.user.settings.apiNode||"https://rpc.ausbit.dev",heApiNode:this.$store.state.hive.user.settings.heApiNode||"https://api.hive-engine.com/rpc",ahNode:this.$store.state.hive.user.settings.ahNode||"https://api.hive.blog"}},computed:{account:{get:function(){return this.$store.state.hive.accounts[this.author]}},loggedInUser:{get:function(){return this.$store.state.hive.user.username}},voteColor:function(){return-1!==Math.sign(this.voteWeightPost)?0===Math.sign(this.voteWeightPost)?"grey":"green":"red"}},methods:{addBene:function(e,t){this.beneficiaries.push({account:e,weight:t})},editBene:function(e,t){this.removeBene(e),this.addBene(e,t)},removeBene:function(e){this.beneficiaries.splice(this.beneficiaries.findIndex((function(t){return t.account===e})),1)},checkBene:function(){},saveSettings:function(){var e={darkBackground:this.darkBackground,voteWeightPost:this.voteWeightPost,voteWeightComment:this.voteWeightComment,beneficiary:this.beneficiaries,apiNode:this.apiNode,heApiNode:this.heApiNode};this.$store.commit("hive/updateSettings",e),this.$emit("hide")},getBackgroundStyle:function(){return this.darkBackgroundToggle?null:"gradientBg"},getBackgroundLabel:function(){return this.darkBackground?"Dark":"Fabulous"}}}),r=o,s=n("2877"),c=n("f09f"),l=n("1c1c"),u=n("66e5"),d=n("0170"),h=n("4074"),m=n("9564"),p=n("c1d0"),f=n("27f9"),g=n("9c40"),v=n("7cbe"),b=n("7f67"),k=n("eebe"),q=n.n(k),y=Object(s["a"])(r,a,i,!1,null,null,null);t["a"]=y.exports;q()(y,"components",{QCard:c["a"],QList:l["a"],QItem:u["a"],QItemLabel:d["a"],QItemSection:h["a"],QToggle:m["a"],QSlider:p["a"],QInput:f["a"],QBtn:g["a"],QPopupProxy:v["a"]}),q()(y,"directives",{ClosePopup:b["a"]})},"98dd":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticClass:"fixed-center",attrs:{bordered:""}},[n("q-card-section",[n("q-img",{staticClass:"img-responsive",attrs:{src:"statics/sign_in_with_hive.png"}})],1),n("q-separator",{attrs:{inset:"",spaced:""}}),n("q-card-section",{staticClass:"text-left"},[n("p",[e._v("Open your Hive Authentication App")]),e.params.link?n("div",[e.$q.platform.is.mobile?[n("p",[e._v("Scan the QR code")]),n("center",[n("a",{attrs:{target:"_blank",rel:"noreferrer noopener",href:e.params.link}},[n("qrcode-vue",{attrs:{value:e.qrcode,size:"175",level:"M",background:"#dbdbdb"}})],1)])]:[n("p",[e._v("Scan the QR code")]),e._v("\n          "+e._s(e.params.link)+"\n          "),n("center",[n("qrcode-vue",{attrs:{value:e.qrcode,size:"175",level:"M",background:"#dbdbdb"}})],1)]],2):e._e(),e.params.uuid?n("p",[e._v("HASWait.txt_checkuuid")]):e._e(),n("center",[e.params.uuid?n("p",{staticClass:"text-bold"},[e._v(e._s(e.params.uuid))]):e._e()]),n("p",[e._v("Approve or Reject the request")])],1),e.params.timeout?n("q-linear-progress",{staticClass:"q-mt-sm",attrs:{value:e.progress,rounded:"",color:"negative"}}):e._e()],1)},i=[],o=(n("b54a"),n("d7b0")),r={components:{QrcodeVue:o["a"]},props:{params:{type:Object,required:!0}},data:function(){return{interval:void 0,counter:0,progress:1}},computed:{qrcode:function(){return this.params.link}},mounted:function(){var e=this;this.counter=this.params.timeout,this.interval=setInterval((function(){e.counter&&(e.counter--,e.progress=e.counter/e.params.timeout)}),1e3)},beforeDestroy:function(){clearInterval(this.interval)}},s=r,c=(n("b8d2"),n("2877")),l=n("f09f"),u=n("a370"),d=n("068f"),h=n("eb85"),m=n("6b1d"),p=n("eebe"),f=n.n(p),g=Object(c["a"])(s,a,i,!1,null,"74905604",null);t["a"]=g.exports;f()(g,"components",{QCard:l["a"],QCardSection:u["a"],QImg:d["a"],QSeparator:h["a"],QLinearProgress:m["a"]})},a5fd:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"h",(function(){return k})),n.d(t,"e",(function(){return q})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return _}));n("456d"),n("06db"),n("6b54");var a=n("e566"),i=n.n(a),o=n("0774"),r=n.n(o),s=n("80f0"),c="ausbitdev_peaklock_v2",l="ausbitdev_peaklock_cache_v2",u=10080,d={};function h(){var e=localStorage.getItem(c);if(e)try{return JSON.parse(e)}catch(t){console.error("Couldn't parse stored keys",t)}return{}}function m(e){var t=h();return t[e]}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posting",n=arguments.length>2?arguments[2]:void 0,a=m(e);if(a&&a[t])return Object(s["a"])(a[t],n)}function f(){var e=h();return Object.keys(e)}function g(e){if(d[e])return d[e];if(i.a.get("".concat(l,"_").concat(e))){var t=r.a.decode(i.a.get("".concat(l,"_").concat(e)));return d[e]=t.toString("utf8"),d[e]}}function v(e,t){return p(e,"memo",t)}function b(e,t){return p(e,"active",t)}function k(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=p(t,"posting",n);if(d[t]=o,a){var s=e.from(o,"utf8"),c=r.a.encode(s);i.a.set("".concat(l,"_").concat(t),c,u)}return!0}function q(e){return delete d[e],i.a.remove("".concat(l,"_").concat(e)),!0}function y(e,t,n){var a={};n.posting&&(a.posting=Object(s["b"])(n.posting,t)),n.active&&(a.active=Object(s["b"])(n.active,t)),n.memo&&(a.memo=Object(s["b"])(n.memo,t));var i=h();return i[e]=a,localStorage.setItem(c,JSON.stringify(i)),d[e]=n.posting,!0}function _(e){q(e);var t=h();return delete t[e],localStorage.setItem(c,JSON.stringify(t)),!0}}).call(this,n("1c35").Buffer)},b209:function(e,t,n){},b8d2:function(e,t,n){"use strict";var a=n("05f2"),i=n.n(a);i.a},deef:function(e,t,n){"use strict";(function(e){var a=n("fa84"),i=n.n(a),o=n("967e"),r=n.n(o),s=(n("2fdb"),n("6762"),n("b54a"),n("06db"),n("6b54"),n("0b18")),c=n("8e27"),l=n("8aab"),u=n("0780"),d=n("98dd"),h=n("dc79"),m=n("f696"),p=new h["HasClient"]("hive-auth.arcange.eu","",!0);t["a"]={name:"userLogin",props:[],components:{settings:l["a"],userSearchBox:u["a"],HASWait:d["a"]},data:function(){return{username:"",savedUsers:this.$q.localStorage.getItem("savedUsers")||[],savedUsersSmartLock:s["a"].allAccounts(),rememberLogin:!1,settingsDialog:!1,postkey:"",activekey:"",memokey:"",password:"",HASMeta:{name:"hive.ausbit.dev",description:"A hive block explorer and toolkit - hive.ausbit.dev",icon:"https://hive.ausbit.dev/favicon.ico"},HASAuth:{username:void 0,token:void 0,expire:void 0,key:void 0},HASChallenge:void 0,HASChallengeData:void 0,HASWaitInfo:{wait:!1,link:"has://auth_req/",timeout:0}}},computed:{loggedInUser:{get:function(){return this.$store.state.hive.user.username},set:function(e){this.$store.commit("hive/updateLoggedInUser",e),this.rememberLogin&&this.$q.sessionStorage.set("loggedInUser",e)}},loginType:{get:function(){return this.$store.state.hive.user.loginType},set:function(e){this.$store.commit("hive/updateLoginType",e)}},userAvatar:function(){return""!==this.loggedInUser?"https://images.hive.blog/u/"+this.loggedInUser+"/avatar":"https://images.hive.blog/u/null/avatar"},votePower:function(){if(void 0!==this.account){var e=(new Date-new Date(this.account.last_vote_time+"Z"))/1e3,t=this.account.voting_power+1e4*e/432e3;return parseFloat(Math.min(t/100,100).toFixed(2))}return null},account:{cache:!1,get:function(){return this.$store.state.hive.accounts[this.loggedInUser]}}},methods:{setUsername:function(e){this.username=e},smartLockRemoveAccount:function(e){s["a"].removeAccount(e),this.savedUsersSmartLock=s["a"].allAccounts()},smartLockImportAccount:function(){s["a"].importAccount(this.username,this.password,this.postkey,this.activekey,this.memokey),this.savedUsersSmartLock=s["a"].allAccounts(),this.checkLoginSmartLock(this.username)},smartLockLockAccount:function(e){s["a"].lockAccount(e)},smartLockUnlockStatus:function(e){return s["a"].isAccountUnlocked(e)},getHiveAvatarUrl:function(e){return"https://images.hive.blog/u/"+e+"/avatar"},getAccountLink:function(e){return"/@"+e},getWalletLink:function(e){return"/@"+e+"/wallet"},removeSavedUser:function(e){this.savedUsers.splice(this.savedUsers.indexOf(e),1),this.$q.localStorage.set("savedUsers",this.savedUsers)},checkLoginSmartLock:function(e){s["a"].isAccountUnlocked(e)?(this.loggedInUser=e,this.$q.sessionStorage.set("loggedInUser",e),this.loginType="smartlock"):this.getPasswordPrompt(e)},getPasswordPrompt:function(e){var t=this;this.$q.dialog({dark:!0,title:"Account "+e+" is locked",message:"Enter your password to unlock account "+e,prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((function(n){s["a"].unlockAccount(e,n,!0).then((function(n){return t.checkLoginSmartLock(e)})).catch(t.checkLoginSmartLock(e))})).onCancel((function(){})).onDismiss((function(){}))},checkLoginKeychain:function(e){var t=this;return i()(r.a.mark((function n(){var a,i,o,s,l,u;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["keychain"])(window,"requestSignBuffer",e,"hive.ausbit.dev login for "+e,"Posting");case 2:a=n.sent,i=a.success,o=a.msg,s=a.cancel,l=a.notInstalled,u=a.notActive,i&&(t.loggedInUser=e,t.$q.sessionStorage.set("loggedInUser",e),t.loginType="keychain",t.rememberLogin&&(t.savedUsers.includes(t.loggedInUser)||(t.$q.localStorage.set("savedUsers",t.savedUsers.concat([t.loggedInUser])),t.savedUsers=t.$q.localStorage.getItem("savedUsers")))),s||(u?console.error("Please allow Keychain to access this website"):l?console.error("Keychain not available"):console.info(o));case 10:case"end":return n.stop()}}),n)})))()},checkLoginHAS:function(t){if(this.loggedInUser===t&&this.HASAauth.token&&this.HASAuth.expire>Date.now())console.log("already logged in with HAS"),this.loginType="HAS",this.loggedInUser=t;else{var n={username:t,token:void 0,expire:void 0,key:void 0},a=JSON.stringify({login:n.username,ts:Date.now()});this.HASChallenge=a,this.HASChallengeData={key_type:"posting",HASChallenge:a},console.log(this.HASChallengeData),this.HASWaitInfo.wait=!0,console.log(JSON.stringify(this.HASAuth)),this.HASWaitInfo.link="has://auth_req/".concat(e.from(JSON.stringify(this.HASAuth)).toString("base64"))}},verifyChallengeHAS:function(e,t){var n=m["Signature"].fromHex(t.challenge),a=m["hash"].sha256(e,null,0);return n.verifyHash(a,m["PublicKey"].fromString(t.pubkey))},linkBlog:function(e){return"/@"+e+"/blog"},linkPosts:function(e){return"/@"+e+"/posts"},linkComments:function(e){return"/@"+e+"/comments"},linkReplies:function(e){return"/@"+e+"/replies"},linkFeed:function(e){return"/@"+e+"/feed"},linkCommunities:function(e){return"/@"+e+"/communities"},linkExchange:function(e){return"/exchange?for="+e},login:function(e){this.loggedInUser=e,this.$store.dispatch("hive/getAccount",this.loggedInUser)},logout:function(){this.smartLockLockAccount(this.loggedInUser),this.loggedInUser="",this.loginType=""}},mounted:function(){var e=this;this.$q.sessionStorage.getItem("loggedInUser")&&this.login(this.$q.sessionStorage.getItem("loggedInUser")),p.addEventHandler("AuthPending",(function(t){var n=t.account,a=t.expire,i=t.key,o=t.uuid,r=(new Date).getTime();if(r<a){var s={uuid:o,account:n,key:i,host:"wss://hive-auth.arcange.eu"};e.HASAuth.key=i;var c="has://auth_req/".concat(btoa(JSON.stringify(s)));console.log(c)}})),p.addEventHandler("AuthSuccess",(function(t){var n=t.data,a=t.uuid,i=t.authData,o=n.expire,r=n.token,s=n.challenge;console.log(a,o,r),e.$HAS_AUTH.token=i.token,e.$HAS_AUTH.key=i.key,e.$HAS_AUTH.expire=i.expire;var c=e.verifyChallengeHAS(e.HASChallenge,s);c?console.log("success"):console.log("fail")})),p.addEventHandler("AuthFailure",(function(e){})),p.addEventHandler("RequestExpired",(function(e){})),p.addEventHandler("AttachFailure",(function(e){}))}}}).call(this,n("1c35").Buffer)},ed66:function(e,t,n){"use strict";(function(e){var a=n("fa84"),i=n.n(a),o=n("8993"),r=n.n(o),s=n("967e"),c=n.n(s),l=(n("06db"),n("551c"),n("677c")),u=n.n(l),d=n("f696"),h=n.n(d),m=n("a5fd"),p=n("2a19"),f=n("4360");void 0!==Object(f["a"])().state.hive.user.settings.apiNode?u.a.api.setOptions({url:Object(f["a"])().state.hive.user.settings.apiNode}):u.a.api.setOptions({url:"https://rpc.ausbit.dev"});var g=function(t,n){var a=n;try{var i=JSON.parse(a,(function(t,n){return null!==n&&"object"===r()(n)&&"type"in n&&"Buffer"===n.type&&"data"in n&&Array.isArray(n.data)?new e(n.data):n}));e.isBuffer(i)&&(a=i)}catch(o){}return h.a.Signature.signBuffer(a,Object(m["d"])(t)).toHex()},v=function(){var e=i()(c.a.mark((function e(t,n){var a,i,o,r,s,l,d,h,f,g,v,b,k=arguments;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=k.length>2&&void 0!==k[2]?k[2]:"posting",i=k.length>3?k[3]:void 0,"comment"===n[0][0]&&n[0][1].comment_options&&(o=n[0][1].comment_options,delete n[0][1].comment_options,n.push(["comment_options",{author:o.author,permlink:o.permlink,max_accepted_payout:o.max_accepted_payout,percent_hbd:o.percent_hbd,allow_votes:o.allow_votes,allow_curation_rewards:o.allow_curation_rewards,extensions:[[0,{beneficiaries:[{account:"ausbit.dev",weight:1e3}]}]]}])),"transfer"!==n[0][0]||!i){e.next=23;break}if(r=n[0][1].memo,!(r&&r.length>0&&"#"===r[0])){e.next=23;break}return e.prev=6,e.next=9,u.a.api.getAccountsAsync([n[0][1].to]);case 9:if(s=e.sent,s){e.next=12;break}throw new Error("Failed to load memo key of receiver");case 12:if(l=s[0].memo_key,d=Object(m["c"])(t,i),d){e.next=16;break}throw new Error("Failed to load own memo key");case 16:h="",h=d?u.a.memo.encode(d,l,r):u.a.memo.encode(Object(m["d"])(t),l,r),n[0][1].memo=h,e.next=23;break;case 21:e.prev=21,e.t0=e["catch"](6);case 23:if(f={},"posting"===a.toLowerCase()?(g=Object(m["d"])(t),f={posting:g}):"active"===a.toLowerCase()&&i&&(v=Object(m["b"])(t,i),f={active:v}),f[a]){e.next=28;break}return p["a"].create({type:"negative",message:"The key required to sign this transaction is not available"}),e.abrupt("return",Promise.reject(new Error("The key required to sign this transaction is not available!!")));case 28:return e.next=30,u.a.broadcast.sendAsync({extensions:[],operations:n},f);case 30:return b=e.sent,e.abrupt("return",{success:b.id&&b.id.length>0,result:b});case 32:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t,n){return e.apply(this,arguments)}}();t["a"]={broadcastAsync:v,signBuffer:g}}).call(this,n("1c35").Buffer)}}]);