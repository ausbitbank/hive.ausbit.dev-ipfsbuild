(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"73b7":function(t,e,n){"use strict";var a=n("ebcf"),r=n.n(a);r.a},d23e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex"},[n("q-dialog",{attrs:{persistent:""},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[n("q-icon",{attrs:{size:"lg",name:"error",color:"yellow"}}),n("br"),t._v("\n    "+t._s(t.errorMessage)+"\n  ")],1),null===t.account||void 0===t.account||null===t.globalProps||t.error?t._e():n("div",{staticClass:"fit row wrap justify-center items-start content-start"},[null!==t.globalProps&&null!==t.account?n("account-header",{attrs:{globalProps:t.globalProps,account:t.account,showBalances:!0}}):t._e(),n("div",{staticClass:"col-xs-12 col-sm-12 col-md-4",staticStyle:{"max-width":"500px"}},[n("q-card",{staticClass:"text-center q-pa-sm q-ma-md",attrs:{flat:"",bordered:""}},[n("q-card-section",[n("div",{staticClass:"text-subtitle"},[t._v("Vote Weight")]),n("div",{staticClass:"text-h6"},[t._v(t._s(t.effectiveHPTidy)+" HP")]),n("div",{staticClass:"text-caption text-grey"},[t._v("\n                  "+t._s(t.vestToHive(parseInt(t.account.vesting_shares.split(" ")[0])))+" + "+t._s(t.vestToHive(parseInt(t.account.received_vesting_shares.split(" ")[0])))+" - "+t._s(t.vestToHive(parseInt(t.account.delegated_vesting_shares.split(" ")[0])))+"\n              ")]),0!==parseInt(t.account.vesting_withdraw_rate.split(" ")[0])?n("div",[n("div",[t._v("Next powerdown: "+t._s(t.tidyNumber(t.vestToHive(parseInt(t.account.vesting_withdraw_rate.split(" ")[0]))))+" HIVE")]),n("div",{staticClass:"text-caption color-grey"},[t._v(t._s(t.timeDelta(t.account.next_vesting_withdrawal)))])]):t._e(),n("div",{staticClass:"text-bold"},[t._v("\n                  Voting Power\n              ")]),n("div",[n("q-linear-progress",{staticClass:"q-mt-sm",attrs:{dark:"",stripe:"",rounded:"",size:"20px",value:t.votePower/100,color:"blue"}},[n("div",{staticClass:"absolute-full flex flex-center"},[n("q-badge",{attrs:{color:"black","text-color":"primary",label:t.votePower}})],1)])],1),n("div",{staticClass:"text-bold"},[t._v("\n                  Downvote Power\n              ")]),n("div",[n("q-linear-progress",{staticClass:"q-mt-sm",attrs:{dark:"",stripe:"",rounded:"",size:"20px",value:this.downvotePowerPct/100,color:"red"}},[n("div",{staticClass:"absolute-full flex flex-center"},[n("q-badge",{attrs:{color:"black","text-color":"primary",label:this.downvotePowerPct}})],1)])],1),n("div",{staticClass:"text-bold"},[t._v("\n                  Resource Credits\n              ")]),n("div",[n("rc",{attrs:{username:t.account.name}})],1)]),n("q-card-section",[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",[t._v("\n                        Reputation\n                  ")]),n("div",{staticClass:"text-h5"},[t._v("\n                        "+t._s(t.getReputation(t.account.reputation))+"\n                    ")]),n("div",{staticClass:"text-caption text-grey"},[t._v("\n                        "+t._s(t.account.post_count)+" posts\n                    ")])]),n("div",{staticClass:"col"},[n("div",[t._v("\n                        Created\n                    ")]),n("div",{staticClass:"text-h5"},[t._v("\n                        "+t._s(t.accountAge)+"\n                    ")]),n("div",{staticClass:"text-caption text-grey"},[t._v("\n                        "+t._s(t.accountAgeShort)+"\n                    ")])])]),n("div",[t._v("\n                View "),n("router-link",{attrs:{to:t.linkBlog(t.username)}},[t._v("Blog")]),t._v(" , "),n("router-link",{attrs:{to:t.linkPosts(t.username)}},[t._v("Posts")]),t._v(", "),n("router-link",{attrs:{to:t.linkComments(t.username)}},[t._v("Comments")]),t._v(", "),n("router-link",{attrs:{to:t.linkReplies(t.username)}},[t._v("Replies")])],1),n("div",[t._v("\n                View in : "),n("a",{attrs:{href:t.linkHiveBlog(t.username)}},[t._v("hive.blog")]),t._v(" , "),n("a",{attrs:{href:t.linkPeakd(t.username)}},[t._v("peakd")])])])],1),t.account.post_count>0?n("recent-posts-carousel",{attrs:{account:t.username,type:"posts"}}):t._e(),n("q-card",{staticClass:"q-pa-sm q-ma-md",attrs:{flat:"",bordered:""}},[n("q-card-section",[n("props-list",{attrs:{obj:t.account,ignoreKeys:["owner","active","posting","memo_key","json_metadata","posting_json_metadata","voting_manabar","downvote_manabar","witness_votes"]}})],1)],1),t.account.json_metadata?n("q-card",{staticClass:"q-pa-sm q-ma-md",attrs:{flat:"",bordered:""}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("JSON Metadata")]),n("json-viewer",{attrs:{data:JSON.parse(t.account.json_metadata)}})],1)],1):t._e(),t.account.posting_json_metadata?n("q-card",{staticClass:"q-pa-sm q-ma-md",attrs:{flat:"",bordered:""}},[n("q-card-section",[n("div",{staticClass:"text-h6",attrs:{id:"posting_meta"}},[t._v("Posting JSON Metadata "),t.account.name===t.loggedInUser?n("q-btn",{attrs:{icon:"edit",title:"Edit",color:"orange",dense:"",glossy:"",round:""},on:{click:function(e){t.editPostingJson=!t.editPostingJson}}}):t._e()],1),!1===t.editPostingJson?n("json-viewer",{attrs:{data:JSON.parse(t.account.posting_json_metadata)}}):t._e(),t.editPostingJson?n("props-editor",{attrs:{json:t.account.posting_json_metadata,username:t.username,type:"postingMeta"},on:{editedProps:function(e){return t.refreshAccount()}}}):t._e()],1)],1):t._e(),n("account-authorities",{attrs:{account:t.account,witness:t.witness},on:{authEdited:function(e){return t.$store.dispatch("hive/getAccount",t.username)}}}),t.witness?n("q-card",{staticClass:"q-pa-sm q-ma-md",attrs:{flat:"",bordered:""}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("\n                  Witness\n              ")]),n("props-list",{attrs:{obj:t.witness,ignoreKeys:[]}})],1)],1):t._e(),t.account.witness_votes.length>0?n("q-card",{staticClass:"q-pa-sm q-ma-md text-center",attrs:{flat:"",bordered:""}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("@"+t._s(t.username)+" votes for :")]),n("ol",t._l(t.account.witness_votes,(function(e){return n("li",{key:e.index},[n("router-link",{attrs:{to:t.accountLink(e)}},[t._v(t._s(e))])],1)})),0)])],1):t._e()],1),n("div",{staticClass:"col-xs-12 col-sm-12 col-md-8 q-pa-md",staticStyle:{"max-width":"1000px"}},[n("account-operations",{attrs:{accountOperations:t.accountOperations}}),n("q-card",{staticClass:"text-center"},[n("q-card-section",[t.page>2?n("q-btn",{attrs:{icon:"keyboard_backspace",color:"primary",dense:"",push:""},on:{click:function(e){t.page=1,t.accountOperations=[],t.$router.push({path:"@"+t.username,query:{page:t.page,filter:t.$route.query.filter}}),t.page=t.getAccountHistoryFiltered()}}}):t._e(),t.page>1?n("q-btn",{attrs:{icon:"keyboard_arrow_left",color:"primary",dense:"",push:""},on:{click:function(e){t.page=parseInt(t.page)-1,t.accountOperations=[],t.$router.push({path:"@"+t.username,query:{page:t.page,filter:t.$route.query.filter}}),t.page=t.getAccountHistoryFiltered()}}}):t._e(),t._v("\n              Page "+t._s(this.page)+" "),t.accountOperations.length<1?n("q-spinner-grid",{attrs:{size:"2em",color:"primary"}}):t._e(),t.page!==(t.accountOperationsMarker/t.accountOperationsLimit+1).toFixed(0)?n("q-btn",{attrs:{icon:"keyboard_arrow_right",color:"primary",dense:"",push:""},on:{click:function(e){t.page=parseInt(t.page)+1,t.accountOperations=[],t.$router.push({path:"@"+t.username,query:{page:t.page,filter:t.$route.query.filter}}),t.getAccountHistoryFiltered()}}}):t._e(),t.page!==(t.accountOperationsMarker/t.accountOperationsLimit+1).toFixed(0)?n("q-btn",{attrs:{icon:"keyboard_tab",color:"primary",dense:"",push:""},on:{click:function(e){t.page=(t.accountOperationsMarker/t.accountOperationsLimit+1).toFixed(0),t.accountOperations=[],t.$router.push({path:"@"+t.username,query:{page:t.page,filter:t.$route.query.filter}}),t.getAccountHistoryFiltered()}}}):t._e()],1)],1)],1)],1)],1)},r=[],o=(n("7f7f"),n("a481"),n("6b54"),n("06db"),n("a34a")),i=n.n(o),s=(n("6762"),n("2fdb"),n("448a")),c=n.n(s),u=(n("96cf"),n("c973")),l=n.n(u),d=(n("28a5"),n("c1df")),p=n.n(d),m=n("1c16"),v=n("a00c"),g=n("1b95"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._l(Object.entries(this.obj),(function(e){return n("span",{key:e.index},[t.ignoreKeys.includes(e[0])?t._e():n("q-list",{attrs:{bordered:"",separator:"",dense:""}},[n("q-item",[n("q-item-section",{staticClass:"text-bold",attrs:{side:""}},[t._v("\n            "+t._s(e[0])+"\n        ")]),n("q-item-section",{staticClass:"text-right wrap"},[t._v("\n            "+t._s(e[1])+"\n        ")])],1)],1)],1)})),0)},_=[],f={name:"propsList",props:["obj","ignoreKeys"],data:function(){return{}}},q=f,b=n("2877"),w=n("1c1c"),y=n("66e5"),k=n("4074"),x=n("eebe"),A=n.n(x),C=Object(b["a"])(q,h,_,!1,null,null,null),O=C.exports;A()(C,"components",{QList:w["a"],QItem:y["a"],QItemSection:k["a"]});var P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-input",{staticStyle:{height:"100%"},attrs:{outlined:"",type:"textarea",label:"Edit your metadata directly here or use the tags below"},model:{value:t.newjson,callback:function(e){t.newjson=e},expression:"newjson"}}),t.newjson===t.json||t.edited?t._e():n("q-btn",{attrs:{label:"Submit changes",color:"orange",icon:"warning"},on:{click:function(e){return t.submitChanges()}}}),t.edited?n("div",{staticClass:"text-caption"},[t._v("\n        Your posting JSON metadata has been edited. Refresh the page in a moment to see the changes\n    ")]):t._e(),""!==t.log?n("div",[t.error?t._e():n("q-icon",{attrs:{name:"info",color:"primary"}}),t.error?n("q-icon",{attrs:{name:"error",color:"red"}}):t._e(),t._v(" "+t._s(t.log))],1):t._e(),n("div",[t._v("\n        Commonly Supported Props:\n        "),t._l(t.commonTags,(function(e){return n("q-chip",{key:e.index,attrs:{outline:"",dense:"",clickable:"",color:"grey",selected:t.doesKeyExist(e),removable:t.doesKeyExist(e)},on:{remove:function(n){return t.removeKey(e)},click:function(n){return t.showKeyPrompt(e)}}},[t._v(t._s(e))])}))],2),n("div",[t._v("\n        Extra Props recognised by this site:\n        "),t._l(t.myTags,(function(e){return n("q-chip",{key:e.index,attrs:{outline:"",dense:"",clickable:"",color:"grey",selected:t.doesKeyExist(e),removable:t.doesKeyExist(e)},on:{remove:function(n){return t.removeKey(e)},click:function(n){return t.showKeyPrompt(e)}}},[t._v(t._s(e))])}))],2),n("json-viewer",{attrs:{data:JSON.parse(t.newjson)}}),n("q-dialog",{attrs:{persistent:""},model:{value:t.keyDialog,callback:function(e){t.keyDialog=e},expression:"keyDialog"}},[n("q-card",{staticStyle:{"min-width":"350px"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Edit "+t._s(t.keyDialogCurrentKey))])]),n("q-card-section",{staticClass:"q-pt-none"},[n("q-input",{attrs:{dense:"",outlined:"",autofocus:"",type:"textarea"},model:{value:t.keyDialogCurrentData,callback:function(e){t.keyDialogCurrentData=e},expression:"keyDialogCurrentData"}})],1),n("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok"},on:{click:function(e){return t.addKey(t.keyDialogCurrentKey,t.keyDialogCurrentData)}}})],1)],1)],1)],1)},j=[],H={name:"propsEditor",props:["json","username","type"],components:{jsonViewer:v["a"]},data:function(){return{newjson:this.json,edited:!1,error:!1,keyDialog:!1,keyDialogCurrentKey:"",keyDialogCurrentData:"",log:"",myTags:["twitter","twitch","github","discord","telegram","email","protonmail","bitcoin","litecoin","ethereum","dogecoin","ipfs","psn","steam","xbox","flickr","facebook","tumblr","linkedin","instagram","reddit","tiktok","soundcloud","vimeo","spotify","youtube","bandcamp","medium","keybase","vimm","threespeak","mastodon","gab","dbuzz","wordpress","nftshowroom","palnet","leofinance","pgp"],commonTags:["name","about","location","profile_image","cover_image","website","witness_description","dtube_pub","pinned","portfolio","trail","default_page","default_view","witness_owner"]}},methods:{submitChanges:function(){if("postingMeta"===this.type){var t={account:this.username,json_metadata:"",posting_json_metadata:this.newjson},e=["account_update2",t];window.hive_keychain.requestBroadcast(this.username,[e],"Posting",function(t,e){!0===t.success&&(this.error=!1,this.log=t.message,this.edited=!0,this.$emit("editedProps")),!1===t.success&&(this.error=!0,this.log=t.message)}.bind(this))}},doesKeyExist:function(t){return t in JSON.parse(this.newjson).profile},removeKey:function(t){console.log("remove key "+t);var e=JSON.parse(this.newjson);delete e.profile[t],this.newjson=JSON.stringify(e)},addKey:function(t,e){if(void 0!==t&&void 0!==e){console.log("add key: "+t+" with data "+e);var n=JSON.parse(this.newjson);n.profile[t]=e,this.newjson=JSON.stringify(n)}else this.log="Not adding empty key"},showKeyPrompt:function(t){this.keyDialogCurrentKey=t,this.keyDialogCurrentData=JSON.parse(this.newjson).profile[t],this.keyDialog=!0},mounted:function(){}}},$=H,I=n("27f9"),Q=n("9c40"),S=n("0016"),R=n("b047"),B=n("24e8"),E=n("f09f"),U=n("a370"),M=n("4b7e"),D=n("7f67"),L=Object(b["a"])($,P,j,!1,null,null,null),F=L.exports;A()(L,"components",{QInput:I["a"],QBtn:Q["a"],QIcon:S["a"],QChip:R["a"],QDialog:B["a"],QCard:E["a"],QCardSection:U["a"],QCardActions:M["a"]}),A()(L,"directives",{ClosePopup:D["a"]});var T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._l(t.accountOperations,(function(e){return n("q-card",{key:e.index,staticClass:"q-ma-sm",attrs:{flat:"",bordered:"",dense:""}},[t.accountOperations.length>0?n("q-card-section",[n("q-list",{attrs:{dense:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[e[1].op[1].producer?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].producer)}})],1):t._e(),e[1].op[1].creator?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].creator)}})],1):t._e(),e[1].op[1].curator?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].curator)}})],1):t._e(),e[1].op[1].benefactor?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].benefactor)}})],1):t._e(),e[1].op[1].delegator?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].delegator)}})],1):t._e(),e[1].op[1].account?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].account)}})],1):t._e(),e[1].op[1].voter?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].voter)}})],1):t._e(),e[1].op[1].from_account?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].from_account)}})],1):t._e(),e[1].op[1].publisher?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].publisher)}})],1):t._e(),e[1].op[1].payer?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].payer)}})],1):t._e(),e[1].op[1].owner?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].owner)}})],1):t._e(),["vote","account_witness_vote"].includes(e[1].op[0])?n("q-avatar",[n("q-icon",{attrs:{name:"how_to_vote"}})],1):t._e(),["curation_reward","comment_benefactor_reward","producer_reward","claim_reward_balance","comment_reward","author_reward","fill_vesting_withdraw","proposal_pay"].includes(e[1].op[0])?n("q-avatar",[n("q-icon",{attrs:{name:"monetization_on"}})],1):t._e(),e[1].op[1].comment_author?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].comment_author)}})],1):t._e(),e[1].op[1].author?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].author)}})],1):t._e(),e[1].op[1].from?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].from)}})],1):t._e(),"comment"==e[1].op[0]?n("q-avatar",[n("q-icon",{attrs:{name:"comment"}})],1):t._e(),"delegate_vesting_shares"==e[1].op[0]?n("q-avatar",[n("q-icon",{attrs:{name:"add_circle"}})],1):t._e(),"transfer"==e[1].op[0]?n("q-avatar",[n("q-icon",{attrs:{name:"send"}})],1):t._e(),["comment_options","feed_publish"].includes(e[1].op[0])?n("q-avatar",[n("q-icon",{attrs:{name:"settings"}})],1):t._e(),["custom_json","witness_set_properties"].includes(e[1].op[0])?n("q-avatar",[n("q-icon",{attrs:{name:"notes"}})],1):t._e(),e[1].op[1].to?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].to)}})],1):t._e(),e[1].op[1].parent_author?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].parent_author)}})],1):t._e(),e[1].op[1].delegatee?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].delegatee)}})],1):t._e(),e[1].op[1].to_account?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].to_account)}})],1):t._e(),e[1].op[1].receiver?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].receiver)}})],1):t._e(),e[1].op[1].witness?n("q-avatar",[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e[1].op[1].witness)}})],1):t._e()],1),n("q-item-section",{staticClass:"wrap"},[n("div",{staticClass:"text-bold"},[t._v(t._s(e[1].op[0]))]),n("json-viewer",{attrs:{data:e[1].op[1]}})],1),n("q-item-section",{attrs:{side:""}},[n("span",["0000000000000000000000000000000000000000"===e[1].trx_id?n("div",[t._v("vtx "+t._s(e[1].virtual_op))]):n("div",[t._v("tx "),n("router-link",{attrs:{to:t.linkTx(e[1].trx_id)}},[t._v(t._s(e[1].trx_id.substr(0,8)))])],1),"0000000000000000000000000000000000000000"===e[1].trx_id?n("div",[t._v("block "),n("router-link",{attrs:{to:t.returnBlockLink(e[1].block,e[1].virtual_op)}},[t._v(t._s(t.tidyNumber(e[1].block)))])],1):n("div",[t._v("block "),n("router-link",{attrs:{to:t.returnBlockLink(e[1].block,e[1].trx_id)}},[t._v(t._s(e[1].block))])],1),n("div",{attrs:{title:e[1].timestamp}},[t._v(t._s(t.timeDelta(e[1].timestamp)))])])])],1)],1)],1):t._e()],1)})),1)},N=[],J={name:"accountOperations",props:["accountOperations"],components:{jsonViewer:v["a"]},data:function(){return{}},computed:{},methods:{timeDelta:function(t){var e=p.a.utc(),n=p.a.utc(t),a=n.diff(e,"minutes");return p.a.duration(a,"minutes").humanize(!0)},tidyNumber:function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},getHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},returnLink:function(t,e){return"/@"+t+"/"+e},returnBlockLink:function(t,e){return"/b/"+t+"#"+e},linkTx:function(t){return"/tx/"+t}},mounted:function(){}},W=J,K=(n("73b7"),n("cb32")),V=n("068f"),z=Object(b["a"])(W,T,N,!1,null,"4928d06c",null),G=z.exports;A()(z,"components",{QCard:E["a"],QCardSection:U["a"],QList:w["a"],QItem:y["a"],QItemSection:k["a"],QAvatar:K["a"],QImg:V["a"],QIcon:S["a"]});var Y=n("6841"),Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{staticClass:"q-pa-sm q-ma-md text-center",attrs:{flat:"",bordered:""}},[n("q-card-section",[n("div",{staticClass:"text-h5 text-center"},[t._v("\r\n        Authorities\r\n        "),t.loggedInUser===t.account.name?n("q-btn",{staticClass:"hvr",attrs:{icon:"edit",color:"orange",dense:"",round:"",glossy:"",title:"Edit account authorities"},on:{click:function(e){t.editorEnabled=!t.editorEnabled}}}):t._e()],1)]),t.witness?n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Signing "),n("q-icon",{attrs:{name:"info",color:"info",title:"Signing keys are used by witnesses to sign blocks"}})],1),n("q-list",{attrs:{bordered:"",seperator:"",dense:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"lock",color:"blue-grey"}})],1),n("q-item-section",{staticClass:"wrap text-caption"},[t._v("\r\n                "+t._s(t.witness.signing_key)+"\r\n            ")]),n("q-item-section",{attrs:{side:""}},[t._v("\r\n                1\r\n            ")])],1)],1)],1):t._e(),n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Owner "),n("q-icon",{attrs:{name:"info",color:"info",title:"This is the admin key, that gives rights to perform any kind of transaction."}})],1),n("q-list",{attrs:{bordered:"",seperator:"",dense:""}},[t._l(t.account.owner.key_auths,(function(e){return n("q-item",{key:e.index},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"lock",color:"blue-grey"}})],1),n("q-item-section",{staticClass:"wrap text-caption"},[t._v("\r\n                "+t._s(e[0])+"\r\n            ")]),n("q-item-section",{attrs:{side:""}},[t._v("\r\n                "+t._s(e[1])+"\r\n            ")])],1)})),t._l(t.account.owner.account_auths,(function(e){return n("q-item",{key:e.index},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"person",color:"primary"}})],1),n("q-item-section",[n("router-link",{attrs:{to:t.accountLink(e[0])}},[t._v(t._s(e[0]))])],1),n("q-item-section",{attrs:{side:""}},[t._v("\r\n                "+t._s(e[1])+"\r\n            ")]),t.loggedInUser===t.account.name&&t.editorEnabled?n("q-item-section",{attrs:{side:""}},[n("q-btn",{attrs:{icon:"delete",color:"red",title:"Remove owner authority",dense:"",round:"",glossy:""},on:{click:function(n){return t.removeAuth("owner","account",t.account.name,e[0])}}})],1):t._e()],1)})),t.loggedInUser===t.account.name&&t.editorEnabled?n("q-item",[n("q-btn",{staticStyle:{margin:"auto"},attrs:{title:"Add owner authority",icon:"person_add",color:"green",dense:"",round:"",glossy:""}},[n("q-popup-proxy",[n("q-card",{staticClass:"q-pa-md"},[n("q-card-section",[t._v("\r\n                            Give owner authority to this account :\r\n                        ")]),n("q-card-section",[n("q-input",{attrs:{label:"account"},model:{value:t.newOwnerAuthAccount,callback:function(e){t.newOwnerAuthAccount=e},expression:"newOwnerAuthAccount"}}),n("q-input",{attrs:{label:"weight"},model:{value:t.newOwnerAuthWeight,callback:function(e){t.newOwnerAuthWeight=e},expression:"newOwnerAuthWeight"}})],1),n("q-card-actions",[n("q-btn",{attrs:{label:"Add owner authority",icon:"warning",color:"orange"},on:{click:function(e){return t.addAuth("owner","account",t.account.name,t.newOwnerAuthAccount,t.newOwnerAuthWeight)}}})],1)],1)],1)],1)],1):t._e(),t._v("\r\n        Threshold: "+t._s(t.account.owner.weight_threshold)+"\r\n    ")],2)],1),n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Active "),n("q-icon",{attrs:{name:"info",color:"info",title:"The active key is needed to perform monetary transactions. It can also be used to change the other permissions (except for Owner)."}})],1),n("q-list",{staticClass:"wrap",attrs:{bordered:"",seperator:"",dense:""}},[t._l(t.account.active.key_auths,(function(e){return n("q-item",{key:e.index},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"lock",color:"blue-grey"}})],1),n("q-item-section",{staticClass:"wrap text-caption"},[t._v("\r\n                "+t._s(e[0])+"\r\n            ")]),n("q-item-section",{attrs:{side:""}},[t._v("\r\n                "+t._s(e[1])+"\r\n            ")])],1)})),t._l(t.account.active.account_auths,(function(e){return n("q-item",{key:e.index},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"person",color:"primary"}})],1),n("q-item-section",[n("router-link",{attrs:{to:t.accountLink(e[0])}},[t._v(t._s(e[0]))])],1),n("q-item-section",{attrs:{side:""}},[t._v("\r\n                "+t._s(e[1])+"\r\n            ")]),t.loggedInUser===t.account.name&&t.editorEnabled?n("q-item-section",{attrs:{side:""}},[n("q-btn",{attrs:{icon:"delete",color:"red",title:"Remove active authority",dense:"",round:"",glossy:""},on:{click:function(n){return t.removeAuth("active","account",t.account.name,e[0])}}})],1):t._e()],1)})),t.loggedInUser===t.account.name&&t.editorEnabled?n("q-item",[n("q-btn",{staticStyle:{margin:"auto"},attrs:{title:"Add active authority",icon:"person_add",color:"green",dense:"",round:"",glossy:""}},[n("q-popup-proxy",[n("q-card",{staticClass:"q-pa-md"},[n("q-card-section",[t._v("\r\n                            Give active authority to this account :\r\n                        ")]),n("q-card-section",[n("q-input",{attrs:{label:"account"},model:{value:t.newActiveAuthAccount,callback:function(e){t.newActiveAuthAccount=e},expression:"newActiveAuthAccount"}}),n("q-input",{attrs:{label:"weight"},model:{value:t.newActiveAuthWeight,callback:function(e){t.newActiveAuthWeight=e},expression:"newActiveAuthWeight"}})],1),n("q-card-actions",[n("q-btn",{attrs:{label:"Add active authority",icon:"warning",color:"orange"},on:{click:function(e){return t.addAuth("active","account",t.account.name,t.newActiveAuthAccount,t.newActiveAuthWeight)}}})],1)],1)],1)],1)],1):t._e(),t._v("\r\n      Threshold: "+t._s(t.account.active.weight_threshold)+"\r\n    ")],2)],1),n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Posting "),n("q-icon",{attrs:{name:"info",color:"info",title:"The posting key is used to post, vote and perform some broadcasts."}})],1),n("q-list",{attrs:{bordered:"",seperator:"",dense:""}},[t._l(t.account.posting.key_auths,(function(e){return n("q-item",{key:e.index},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"lock",color:"blue-grey"}})],1),n("q-item-section",{staticClass:"wrap text-caption"},[t._v("\r\n                "+t._s(e[0])+"\r\n            ")]),n("q-item-section",{attrs:{side:""}},[t._v("\r\n                "+t._s(e[1])+"\r\n            ")])],1)})),t._l(t.account.posting.account_auths,(function(e){return n("q-item",{key:e.index},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"person",color:"primary"}})],1),n("q-item-section",[n("router-link",{attrs:{to:t.accountLink(e[0])}},[t._v(t._s(e[0]))])],1),n("q-item-section",{attrs:{side:""}},[t._v("\r\n                "+t._s(e[1])+"\r\n            ")]),t.loggedInUser===t.account.name&&t.editorEnabled?n("q-item-section",{attrs:{side:""}},[n("q-btn",{attrs:{icon:"delete",color:"red",title:"Remove posting authority",dense:"",round:"",glossy:""},on:{click:function(n){return t.removeAuth("posting","account",t.account.name,e[0])}}})],1):t._e()],1)})),t.loggedInUser===t.account.name&&t.editorEnabled?n("q-item",[n("q-btn",{staticStyle:{margin:"auto"},attrs:{title:"Add posting authority",icon:"person_add",color:"green",dense:"",round:"",glossy:""}},[n("q-popup-proxy",[n("q-card",{staticClass:"q-pa-md"},[n("q-card-section",[t._v("\r\n                            Give posting authority to this account :\r\n                        ")]),n("q-card-section",[n("q-input",{attrs:{label:"account"},model:{value:t.newPostingAuthAccount,callback:function(e){t.newPostingAuthAccount=e},expression:"newPostingAuthAccount"}}),n("q-input",{attrs:{label:"weight"},model:{value:t.newPostingAuthWeight,callback:function(e){t.newPostingAuthWeight=e},expression:"newPostingAuthWeight"}})],1),n("q-card-actions",[n("q-btn",{attrs:{label:"Add posting authority",size:"1rem",icon:"warning",color:"orange"},on:{click:function(e){return t.addAuth("posting","account",t.account.name,t.newPostingAuthAccount,t.newPostingAuthWeight)}}})],1)],1)],1)],1)],1):t._e(),t._v("\r\n        Threshold: "+t._s(t.account.posting.weight_threshold)+"\r\n    ")],2)],1),n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Memo "),n("q-icon",{attrs:{name:"info",color:"info",title:"Use to encode/decode private memos."}})],1),n("q-list",{attrs:{bordered:"",seperator:"",dense:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"lock",color:"blue-grey"}})],1),n("q-item-section",{staticClass:"wrap text-caption"},[t._v("\r\n                "+t._s(t.account.memo_key)+"\r\n            ")]),n("q-item-section",{attrs:{side:""}},[t._v("\r\n                1\r\n            ")])],1)],1)],1)],1)},X=[],tt=n("8e27"),et={name:"accountAuthorities",props:["account","witness"],data:function(){return{dialogAddAccountAuth:!1,editorEnabled:!1,newPostingAuthAccount:"",newPostingAuthWeight:1,newActiveAuthAccount:"",newActiveAuthWeight:1,newOwnerAuthAccount:"",newOwnerAuthWeight:1,newMemoAuthAccount:"",newMemoAuthWeight:1}},methods:{accountLink:function(t){return"/@"+t},removeAuth:function(t,e,n,a){var r=this;return l()(i.a.mark((function o(){var s,c,u;return i.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if("account"!==e){o.next=8;break}return console.log("remove "+t+" "+e+" authority of "+a+" over account "+n),o.next=4,Object(tt["keychain"])(window,"requestRemoveAccountAuthority",n,a,t);case 4:s=o.sent,c=s.success,u=s.msg,c&&(r.$emit("authEdited"),console.log(u));case 8:case"end":return o.stop()}}),o)})))()},addAuth:function(t,e,n,a,r){var o=this;return l()(i.a.mark((function s(){var c,u,l;return i.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("account"!==e){i.next=8;break}return console.log("add "+t+" "+e+" authority of "+a+" over account "+n),i.next=4,Object(tt["keychain"])(window,"requestAddAccountAuthority",n,a,t,r);case 4:c=i.sent,u=c.success,l=c.msg,u&&(o.$emit("authEdited"),console.log(l));case 8:case"end":return i.stop()}}),s)})))()}},computed:{loggedInUser:{get:function(){return this.$store.state.hive.user.username}}}},nt=et,at=n("7cbe"),rt=Object(b["a"])(nt,Z,X,!1,null,null,null),ot=rt.exports;A()(rt,"components",{QCard:E["a"],QCardSection:U["a"],QBtn:Q["a"],QIcon:S["a"],QList:w["a"],QItem:y["a"],QItemSection:k["a"],QPopupProxy:at["a"],QInput:I["a"],QCardActions:M["a"]});var it=n("d1f4"),st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return void 0!==t.RC.rc_manabar?n("div",[n("q-linear-progress",{staticClass:"q-mt-sm",attrs:{dark:"",stripe:"",rounded:"",size:"20px",value:t.rcPercent,color:"green"}},[n("div",{staticClass:"absolute-full flex flex-center"},[n("q-badge",{attrs:{color:"black","text-color":"primary"}},[t._v(t._s((100*t.rcPercent).toFixed(2))+" %")])],1)]),n("q-card-section",{staticClass:"text-center"},[n("div",{staticClass:"text-bold"},[t._v("Enough credits for approximately:")]),n("div",[t._v(t._s(t.resourceBudgetComments)+" comments")]),n("div",[t._v(t._s(t.resourceBudgetVotes)+" votes")]),n("div",[t._v(t._s(t.resourceBudgetTransfers)+" transfers")])])],1):t._e()},ct=[],ut={name:"rc",props:["username","display"],data:function(){return{loading:!1,RC:{}}},computed:{rcPercent:function(){if(void 0!==this.RC.max_rc){var t=this.RC.max_rc,e=this.RC.rc_manabar.current_mana;return parseFloat(e/t)}return null},resourceBudgetComments:function(){if(void 0!==this.RC.rc_manabar){var t=866099987,e=this.RC.rc_manabar.current_mana/t;return e>=100?"100+":e.toFixed(0)}return null},resourceBudgetVotes:function(){if(void 0!==this.RC.rc_manabar){var t=98893838,e=this.RC.rc_manabar.current_mana/t;return e>=100?"100+":e.toFixed(0)}return null},resourceBudgetTransfers:function(){if(void 0!==this.RC.rc_manabar){var t=476452196,e=this.RC.rc_manabar.current_mana/t;return e>=100?"100+":e.toFixed(0)}return null}},methods:{getRcForAccount:function(t){var e=this;this.loading=!0;var n={accounts:[t]};this.$hive.api.callAsync("rc_api.find_rc_accounts",n).then((function(t){e.loading=!1,e.RC=t.rc_accounts[0]}))}},mounted:function(){this.getRcForAccount(this.username)}},lt=ut,dt=n("6b1d"),pt=n("58a8"),mt=Object(b["a"])(lt,st,ct,!1,null,null,null),vt=mt.exports;A()(mt,"components",{QLinearProgress:dt["a"],QBadge:pt["a"],QCardSection:U["a"]});var gt=it["ChainTypes"].operations,ht={name:"accountPage",components:{jsonViewer:v["a"],recentPostsCarousel:g["a"],propsList:O,propsEditor:F,accountOperations:G,accountHeader:Y["a"],rc:vt,accountAuthorities:ot},data:function(){return{username:this.$route.params.username,votingPowerPct:.5,downvotingPowerPct:.5,resourceCreditsPct:.5,accountValue:null,RC:{max:null,current:null,percent:null},witness:null,accountOperations:[],accountOperationsLimit:100,accountOperationsMarker:null,page:this.$router.currentRoute.query.page||1,editPostingJson:!1,error:!1,errorMessage:"",operationsBitmask:null,accountHistoryPointer:-1,accountHistoryLimit:1e3,filteredOperationsArray:[],failCount:0,failCountMax:10}},watch:{username:function(){Object(m["a"])((function(){this.accountOperationsMarker=null,this.init()}),200)},$route:function(){this.init()}},computed:{loggedInUser:{get:function(){return this.$store.state.hive.user.username}},globalProps:{get:function(){return this.$store.state.hive.globalProps}},account:{cache:!1,get:function(){return this.$store.state.hive.accounts[this.username]}},accountAge:function(){return p()(this.account.created).fromNow()},accountAgeShort:function(){return p()(this.account.created).format("MMMM YYYY")},votePower:function(){var t=(new Date-new Date(this.account.last_vote_time+"Z"))/1e3,e=this.account.voting_power+1e4*t/432e3;return Math.min(e/100,100).toFixed(2)},effectiveHPTidy:function(){return this.tidyNumber(this.effectiveHP)},effectiveHP:function(){return this.vestToHive(this.effectiveVests)},effectiveVests:function(){return void 0!==this.account&&null!==this.account?parseInt(this.account.vesting_shares.split(" ")[0])+parseInt(this.account.received_vesting_shares.split(" ")[0])-parseInt(this.account.delegated_vesting_shares.split(" ")[0])-parseInt(this.account.vesting_withdraw_rate.split(" ")[0]):null},downvotePower:function(){return this.account.downvote_manabar.current_mana/(this.effectiveVests/4*1e4)*100},downvotePowerPct:function(){var t=(this.downvotePower/100).toFixed(2);return t>100&&(t=100),t},coverImage:function(){var t="https://files.peakd.com/file/peakd-hive/ausbitbank/8xq5izkP-cover-1.jpg";return null===this.account?t:this.account.posting_json_metadata&&JSON.parse(this.account.posting_json_metadata).profile&&JSON.parse(this.account.posting_json_metadata).profile.cover_image?JSON.parse(this.account.posting_json_metadata).profile.cover_image:t},coverImageStyle:function(){return this.coverImage?{"background-image":"linear-gradient(rgba(0, 0, 0, 0.3) 0%, rgba(0, 0, 0, 0.3) 40%, rgba(10, 10, 10, 0.75) 100%), url("+this.coverImage+")","background-position":"center-center","background-repeat":"no-repeat","background-size":"cover","background-clip":"border-box, border-box","background-color":"rgba(0, 0, 0, 0)","background-attachment":"scroll, scroll"}:null},recentVotes:function(){if(this.accountOperations){var t=this.accountOperations.filter(this.filterOpsVotes).slice(0,10),e=[];for(var n in t)e.push({author:t[n][1].op[1].author,permlink:t[n][1].op[1].permlink});return e}return null},resourceBudgetComments:function(){if(this.RC.current){var t=866099987,e=this.RC.current/t;return e>=100?"100+":e.toFixed(0)}return null},resourceBudgetVotes:function(){if(this.RC.current){var t=98893838,e=this.RC.current/t;return e>=100?"100+":e.toFixed(0)}return null},resourceBudgetTransfers:function(){if(this.RC.current){var t=476452196,e=this.RC.current/t;return e>=100?"100+":e.toFixed(0)}return null}},methods:{getAccountHistoryFiltered:function(){var t=this;return l()(i.a.mark((function e(){var n,a,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==t.operationsBitmask){e.next=4;break}t.getAccountHistory(t.username),e.next=14;break;case 4:return n=t.accountOperationsLimit,a=t.$router.currentRoute.query.page||1,r=t.accountOperationsMarker-n*a,r+=n,r<=n-1&&(r=n-1),null!==a&&1!==a||(r=-1),console.log("page: "+a+" , accountOpsMarker: "+t.accountOperationsMarker," pagReq: "+r+" limit: "+t.accountOperationsLimit),t.loading=!0,e.next=14,t.$hive.api.callAsync("call",["database_api","get_account_history",[t.username,r,t.accountOperationsLimit].concat(c()(t.operationsBitmask))]).then((function(e){t.accountHistoryPointer=parseInt(e[0][0])-1,0===t.accountOperations.length?t.accountOperations=e.reverse():t.accountOperations=t.accountOperations.concat(e.reverse()),t.loading=!1})).catch((function(e){t.loading=!1,console.error(e),e.data.stack[0].data.sequence&&e.cause.message.includes("Could not find filtered operation in")&&(t.failCount++,console.log("fails: "+t.failCount),t.accountOperationsMarker=e.data.stack[0].data.sequence,console.log("account operations marker: "+t.accountOperationsMarker),t.failCount<=t.failCountMax&&Object(m["a"])(t.getAccountHistoryFiltered(),5e3))}));case 14:case"end":return e.stop()}}),e)})))()},filterOpsVotes:function(t){return"vote"===t[1].op[0]},getAccountHistory:function(){var t=this.accountOperationsLimit,e=this.$router.currentRoute.query.page||1,n=this.accountOperationsMarker-t*e;n+=t,n<=t-1&&(n=t-1),null!==e&&1!==e||(n=-1),this.$hive.api.getAccountHistory(this.username,n,this.accountOperationsLimit,function(t,e){t&&console.log(t),this.accountOperations=e.reverse()}.bind(this))},getAccountHistoryMarker:function(){var t=this;return l()(i.a.mark((function e(){var n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.query.filter){e.next=8;break}return n=t.$route.query.filter.split(","),n.forEach((function(e){return t.filteredOperationsArray.push(gt[e])})),t.operationsBitmask=Object(it["makeBitMaskFilter"])(t.filteredOperationsArray),e.next=6,t.$hive.api.callAsync("call",["database_api","get_account_history",[t.username,-1,1e3].concat(c()(t.operationsBitmask))]).then((function(e){console.log("account operations marker: "),console.log(e),t.accountOperationsMarker=e[0][0],t.getAccountHistoryFiltered()})).catch((function(t){console.error(t)}));case 6:e.next=10;break;case 8:return e.next=10,t.$hive.api.callAsync("call",["database_api","get_account_history",[t.username,-1,1]]).then((function(e){t.accountOperationsMarker=e[0][0],t.getAccountHistoryFiltered()})).catch((function(t){console.error(t)}));case 10:case"end":return e.stop()}}),e)})))()},accountLink:function(t){return"/@"+t},linkBlog:function(t){return"/@"+t+"/blog"},linkPosts:function(t){return"/@"+t+"/posts"},linkComments:function(t){return"/@"+t+"/comments"},linkReplies:function(t){return"/@"+t+"/replies"},linkFeed:function(t){return"/@"+t+"/feed"},linkHiveBlog:function(t){return"https://hive.blog/@"+t},linkPeakd:function(t){return"https://peakd.com/@"+t},linkHiveWorld:function(t){return"/hiveworld/@"+t},linkTx:function(t){return"/tx/"+t},getReputation:function(t){return this.$hive.formatter.reputation(t)},getAccount:function(t){void 0===this.$store.state.hive.accounts[t]&&(console.log("dispatch sent to get account info for "+this.username),this.$store.dispatch("hive/getAccount",this.username))},getWitness:function(t){var e=this;this.$hive.api.getWitnessByAccountAsync(t).then((function(t){e.witness=t})).catch((function(){return console.log("Failed to load witness data")}))},getHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},getGlobalProps:function(){this.globalProps.empty&&this.$store.dispatch("hive/getGlobalProps")},vestToHive:function(t){return this.globalProps?this.$hive.formatter.vestToHive(t,this.globalProps.total_vesting_shares,this.globalProps.total_vesting_fund_hive).toFixed(3):null},timeDelta:function(t){var e=p.a.utc(),n=p.a.utc(t),a=n.diff(e,"minutes");return p.a.duration(a,"minutes").humanize(!0)},tidyNumber:function(t){if(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}return null},returnLink:function(t,e){return"/@"+t+"/"+e},returnBlockLink:function(t,e){return"/b/"+t+"#"+e},refreshAccount:function(){this.$store.dispatch("hive/getAccount",this.username)},init:function(){this.getGlobalProps(),this.page=this.$router.currentRoute.query.page||1,this.username=this.$route.params.username,document.title=this.username,void 0!==this.account&&this.account.name===this.username||(this.getAccount(this.username),this.getWitness(this.username)),this.getAccountHistoryMarker()}},created:function(){this.init()}},_t=ht,ft=n("9989"),qt=n("981c"),bt=Object(b["a"])(_t,a,r,!1,null,null,null);e["default"]=bt.exports;A()(bt,"components",{QPage:ft["a"],QDialog:B["a"],QIcon:S["a"],QCard:E["a"],QCardSection:U["a"],QLinearProgress:dt["a"],QBadge:pt["a"],QBtn:Q["a"],QSpinnerGrid:qt["a"]})},ebcf:function(t,e,n){}}]);