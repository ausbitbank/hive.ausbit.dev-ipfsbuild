(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{1503:function(t,e,n){},be57:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex flex-center"},[void 0!==t.globalProps&&void 0!==t.account?n("account-header",{staticClass:"full-width",attrs:{globalProps:this.globalProps,account:this.account,showBalances:!1,showNavBar:!1}}):t._e(),n("div",{staticClass:"row items-start content-start justify-center q-pa-sm"},[t.post?n("div",{staticClass:"col-xs-12 col-md-8 justify-center"},[n("q-card",{staticClass:"q-pa-sm",staticStyle:{"max-width":"1000px"},attrs:{flat:"",bordered:""}},[t.post.title?n("q-card-section",{staticClass:"text-h5 text-center"},[t._v("\n          "+t._s(t.Sanitize(t.post.title))+"\n        ")]):t._e(),""!==t.post.parent_author?n("q-card-section",[t._v("\n          Reply to "),n("router-link",{attrs:{to:t.linkAccount(t.post.parent_author)}},[t._v(t._s(t.post.parent_author))]),t._v(" / "),n("router-link",{attrs:{to:t.linkPost(t.post.parent_author,t.post.parent_permlink)}},[t._v(t._s(t.post.parent_permlink))])],1):t._e(),t.postBody?n("q-card-section",[n("transition",{attrs:{appear:"","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},[n("div",{staticClass:"postview",domProps:{innerHTML:t._s(t.postBody)}})])],1):t._e(),n("div",{staticClass:"text-center"},[this.loggedInUser?n("q-btn",{attrs:{icon:"comment",label:"Reply",push:"",dense:"",color:"blue-grey-10"}},[n("q-popup-proxy",{attrs:{persistent:""}},[n("commentBox",{attrs:{parent_author:t.post.author,parent_permlink:t.post.permlink}})],1)],1):t._e(),t.post.children>0?n("comments",{attrs:{author:t.post.author,permlink:t.post.permlink}}):t._e()],1)],1)],1):t._e(),t.post?n("div",{staticClass:"col-sm-12 col-md-4 text-center justify-center"},[n("transition",{attrs:{appear:"","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutRight"}},[n("q-card",{staticClass:"q-pa-none q-ma-none",attrs:{dense:"",flat:"",bordered:""}},[n("q-card-section",[n("q-list",{attrs:{dense:"",separator:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",[n("q-img",{attrs:{src:t.GetHiveAvatarUrl(t.author)}})],1)],1),n("q-item-section",[n("router-link",{attrs:{to:t.linkAccount(t.author)}},[t._v(t._s(t.author))])],1)],1),t.postDescription?n("q-item",[n("q-item-section",[n("span",[t._v(t._s(t.postDescription))])])],1):t._e(),n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"history",color:"blue-grey"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},[t._v("\n                Posted "+t._s(t.timeDelta(t.post.created))+"\n              ")])],1),t.post.last_update!==t.post.created?n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"create",color:"red"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},[n("a",{attrs:{href:t.GetEditHistoryUrl(t.post.author,t.post.permlink),target:"_blank"}},[t._v("Edited "+t._s(t.timeDelta(t.post.last_update)))])])],1):t._e(),"0.000 HBD"!==t.post.pending_payout_value||"0.000 HBD"!==t.post.total_payout_value?n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"monetization_on",color:"green"}})],1),"0.000 HBD"!==t.post.pending_payout_value?n("q-item-section",{staticClass:"text-caption",attrs:{title:"Pending payout value"}},[t._v("\n                "+t._s(t.post.pending_payout_value.split(" ")[0])+" Hive Rewards\n              ")]):t._e(),"0.000 HBD"!==t.post.pending_payout_value?n("q-item-section",{attrs:{title:"Cashout time"}},[t._v("\n                "+t._s(t.timeDelta(t.post.cashout_time))+"\n              ")]):t._e(),"0.000 HBD"!==t.post.total_payout_value?n("q-item-section",{staticClass:"text-caption",attrs:{title:"Total payout value"}},[t._v("\n                "+t._s(t.post.total_payout_value)+"\n              ")]):t._e()],1):t._e(),"0.000 HBD"===t.post.max_accepted_payout?n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"money_off",color:"grey"}})],1),n("q-item-section",{staticClass:"text-caption",attrs:{caption:""}},[t._v("\n                Author declined payout on this post\n              ")])],1):t._e(),0===t.post.percent_hbd?n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"offline_bolt",title:"100% Power Up Post",color:"yellow"}})],1),n("q-item-section",{staticClass:"text-caption",attrs:{caption:""}},[t._v("\n                Rewards 100% powered up\n              ")])],1):t._e(),t.post.beneficiaries.length>0?n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"alt_route",title:"Sharing payout with",color:"purple"}})],1),t._l(t.post.beneficiaries,(function(e){return n("q-item-section",{key:e.index},[n("router-link",{attrs:{to:t.linkAccount(e.account)}},[t._v(t._s(e.account))]),t._v(t._s(e.weight/100)+" %\n              ")],1)}))],2):t._e(),t.post.community&&t.post.community_title?n("q-item",{attrs:{title:"Community"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"label_important",color:"amber"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},[t._v("\n                "+t._s(t.post.community_title)+" Community\n              ")])],1):t.post.category?n("q-item",{attrs:{title:"Category"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"label_important",color:"orange"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},[n("router-link",{attrs:{to:t.linkDetect(t.post.category)}},[t._v(t._s(t.post.category))])],1)],1):t._e(),t.postMeta&&t.postMeta.tags?n("q-item",{attrs:{title:"Tags"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"label",color:"primary"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},t._l(t.postMeta.tags,(function(e){return n("router-link",{key:e.index,attrs:{to:t.linkTag(e)}},[t._v(t._s(e))])})),1)],1):t._e(),t.postMeta&&t.postMeta.app?n("q-item",{attrs:{title:"App"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"fingerprint",color:"brown"}})],1),n("q-item-section",[t._v("\n                "+t._s(t.postMeta.app)+"\n              ")])],1):t._e(),t.postMeta&&t.postMeta.countdown?n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"alarm_on",color:"gray"}})],1),n("q-item-section",[t._v("\n                Countdown to "+t._s(t.postMeta.countdown)),n("br"),t._v("\n                ( "+t._s(t.timeDelta(t.postMeta.countdown))+" )\n              ")])],1):t._e(),t.post.active_votes.length>0?n("q-item",{attrs:{title:"Votes"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"how_to_vote",color:"purple"}})],1),n("q-item-section",[n("span",{staticClass:"text-blue text-bold cursor-pointer",on:{click:function(e){t.showVotes=!0}}},[t._v(t._s(t.post.active_votes.length)+" votes")])]),n("q-dialog",{model:{value:t.showVotes,callback:function(e){t.showVotes=e},expression:"showVotes"}},[n("q-card",{staticStyle:{"max-width":"95%"},attrs:{flat:"",bordered:""}},[n("q-table",{attrs:{title:"Votes",data:t.post.active_votes,columns:t.voteColumns,pagination:{sortBy:"weight",descending:!0,rowsPerPage:50},dense:"",bordered:"",separator:"cell"}})],1)],1)],1):t._e(),n("q-item",[n("tip-button",{staticStyle:{width:"100%"},attrs:{account:t.post.author}})],1),n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"share",color:"orange"}})],1),n("q-item-section",[n("q-btn",{attrs:{rounded:"",bordered:""},on:{click:function(e){t.showShareDialog=!t.showShareDialog}}},[t._v("\n                  Share this post:\n                ")]),t.showShareDialog?n("shareButtons",{attrs:{title:t.post.title}}):t._e()],1)],1),t.postMeta?n("q-item",{staticClass:"text-left"},[t._e(),n("q-item-section",[n("json-viewer",{attrs:{data:t.postMeta,deep:0,title:"Post json_metadata"}})],1)],1):t._e()],1)],1),t.loggedInUser&&t.postPastPayout?n("q-card-section",{staticClass:"text-caption"},[n("div",[t._v("This post is past its payout window.")]),n("div",[t._v("You can still vote, but it will not affect rewards.")])]):t._e(),t.loggedInUser?n("q-card-section",[n("vote",{attrs:{author:t.author,permlink:t.permlink,active_votes:this.post.active_votes},on:{Voted:function(e){return t.init()}}})],1):t._e(),n("q-card-section",[t._v("\n          View this post on "),n("a",{attrs:{href:t.linkHiveBlogPost(t.author,t.permlink)}},[t._v("Hive.blog")]),t._v(", "),n("a",{attrs:{href:t.linkPeakdPost(t.author,t.permlink)}},[t._v("Peakd")])])],1)],1),n("transition",{attrs:{appear:"","enter-active-class":"animated bounceInDown","leave-active-class":"animated bounceOutDown"}},[n("recent-posts-carousel",{attrs:{account:t.author,autoplay:!1}})],1)],1):t._e()])],1)},a=[],s=(n("f559"),n("0879")),r=n("6841"),i=n("1b95"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.viewComments?t._e():n("span",{staticClass:"text-center"},[n("q-btn",{attrs:{icon:"forum",color:"blue-grey-6",dense:"",push:"",label:"View replies"},on:{click:function(e){t.viewComments=!t.viewComments}}})],1),t.viewComments?n("span",[t.loading?t._e():n("q-card",{attrs:{dense:"",flat:"",bordered:""}},[n("q-card-section",{staticClass:"text-h6 text-center"},[n("q-icon",{attrs:{name:"forum"}}),t._v("Replies\n    ")],1),t._l(t.comments,(function(e){return n("span",{key:e.index},[e.parent_permlink===t.permlink?n("comment",{attrs:{comment:e,comments:t.comments,parentAuthor:t.author,parentPermlink:t.permlink,parentDepth:e.depth}}):t._e()],1)}))],2)],1):t._e()])},l=[],u=(n("ac6a"),n("cadf"),n("06db"),n("456d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return this.comment.permlink!==this.parentPermlink?n("q-card-section",[n("q-list",{attrs:{bordered:"",separator:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("center",[n("router-link",{attrs:{to:t.linkAccount(this.comment.author)}},[n("q-avatar",[n("q-img",{attrs:{src:t.GetHiveAvatarUrl(this.comment.author)}})],1),n("div",{staticClass:"text-bold"},[t._v("\n            "+t._s(this.comment.author)+"\n          ")])],1)],1)],1),n("q-item-section",[n("comment-body",{attrs:{post:t.comment}})],1),n("q-item-section",{staticClass:"text-grey text-center text-subtitle",attrs:{side:""}},[n("router-link",{attrs:{to:t.returnLink(this.comment.author,this.comment.permlink)}},[t._v(t._s(t.timeDelta(this.comment.created)))]),this.loggedInUser?n("q-btn",{attrs:{icon:"comment",dense:"",flat:""}},[n("q-popup-proxy",{attrs:{persistent:""}},[n("commentBox",{attrs:{parent_author:this.comment.author,parent_permlink:this.comment.permlink}})],1)],1):t._e(),t.comment.active_votes?n("q-btn",{attrs:{dense:"",flat:"",icon:t.voteIcon,color:"secondary",label:t.comment.active_votes.length}},[void 0===t.myVote?n("q-popup-proxy",[n("q-banner",[n("vote",{attrs:{votes:t.comment.active_votes,author:t.comment.author,permlink:t.comment.permlink}})],1)],1):t._e()],1):t._e()],1)],1)],1),t._l(t.comment.replies,(function(e){return n("span",{key:e.index},[n("comment",{attrs:{comment:t.comments[e],comments:t.comments,parentDepth:t.comment.depth}})],1)}))],2):t._e()}),m=[],p=(n("0b21"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"postview",domProps:{innerHTML:t._s(t.postContent)}})}),h=[],d=n("24d4"),v={name:"commentBody",props:["post"],data:function(){return{renderer:new d["DefaultRenderer"]({baseUrl:"https://hive.ausbit.dev/",breaks:!0,skipSanitization:!1,allowInsecureScriptTags:!1,addNofollowToLinks:!0,doNotShowImages:!1,ipfsPrefix:"",assetsWidth:640,assetsHeight:480,imageProxyFn:function(t){return t},usertagUrlFn:function(t){return"/@"+t},hashtagUrlFn:function(t){return"/trending/"+t},isLinkSafeFn:function(t){return!0}})}},computed:{postContent:function(){return this.renderer.render(this.post.body)}},methods:{}},_=v,f=n("2877"),g=Object(f["a"])(_,p,h,!1,null,null,null),b=g.exports,q=n("0be6"),k=n("4975"),y=n("c1df"),w=n.n(y),x={name:"comment",data:function(){return{}},props:["comment","comments","parentAuthor","parentPermlink","parentDepth"],components:{commentBody:b,comment:$,commentBox:q["a"],vote:k["a"]},computed:{loggedInUser:{get:function(){return this.$store.state.hive.user.username}},defaultVoteWeight:{get:function(){return this.$store.state.hive.user.settings.voteWeightComment}},myVote:function(){return this.comment.active_votes.filter(this.filterMyVote)[0]},voteIcon:function(){return void 0!==this.myVote&&1===Math.sign(this.myVote.rshares)?"favorite":"favorite_border"}},methods:{returnLink:function(t,e){return"/@"+t+"/"+e},linkAccount:function(t){return"/@"+t},filterMyVote:function(t){return t.voter===this.loggedInUser},GetHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},timeDelta:function(t){var e=w.a.utc(),n=w.a.utc(t),o=n.diff(e,"minutes");return w.a.duration(o,"minutes").humanize(!0)}},mounted:function(){}},C=x,P=n("a370"),D=n("1c1c"),I=n("66e5"),U=n("4074"),B=n("cb32"),Q=n("068f"),S=n("9c40"),R=n("7cbe"),H=n("54e1"),V=n("eebe"),A=n.n(V),M=Object(f["a"])(C,u,m,!1,null,null,null),$=M.exports;A()(M,"components",{QCardSection:P["a"],QList:D["a"],QItem:I["a"],QItemSection:U["a"],QAvatar:B["a"],QImg:Q["a"],QBtn:S["a"],QPopupProxy:R["a"],QBanner:H["a"]});var j={name:"comments",data:function(){return{comments:[],api:"https://rpc.ausbit.dev",viewComments:!1,loading:!1}},watch:{viewComments:function(){this.viewComments&&this.getReplies()}},props:["author","permlink"],components:{comment:$},computed:{},methods:{getReplies:function(){var t=this;this.loading=!0,this.$axios.post(this.api,{jsonrpc:"2.0",method:"bridge.get_discussion",params:{author:this.author,permlink:this.permlink}}).then((function(e){t.loading=!1,t.comments=e.data.result,t.comments=t.sortData("net_rshares",t.comments,"desc")})).catch((function(e){t.loading=!1,console.log(e)}))},sortData:function(t,e,n){var o={},a=function(n,o){return e[o][t]-e[n][t]};return"asc"===n&&(a=function(n,o){return e[n][t]-e[o][t]}),Object.keys(e).sort(a).forEach((function(t){o[t]=e[t]})),o}},mounted:function(){this.getReplies()}},z=j,O=n("f09f"),T=n("0016"),E=Object(f["a"])(z,c,l,!1,null,null,null),L=E.exports;A()(E,"components",{QBtn:S["a"],QCard:O["a"],QCardSection:P["a"],QIcon:T["a"]});var F=n("a00c"),G=n("6a43"),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._l(t.services,(function(e){return n("q-btn",{key:e.index,staticClass:"hvr",attrs:{dense:"",push:"",size:"md",icon:t.returnServiceIcon(e),label:e},on:{click:function(n){return t.share(e)}}})})),n("q-btn",{staticClass:"hvr",attrs:{size:"md","@click":t.copy(),dense:"",push:"",icon:"content_copy",label:"Copy URL"}})],2)},W=[],J=n("cdde"),Y={name:"shareButtons",data:function(){return{services:["dbuzz","twitter","facebook","reddit"]}},props:["title"],methods:{returnServiceIcon:function(t){return"img:statics/"+t+".svg"},returnCurrentUrl:function(){return"https://hive.ausbit.dev"+this.$router.currentRoute.path},copy:function(){var t=this.returnCurrentUrl();Object(J["a"])(t),this.$q.notify("Copied to clipboard: "+t)},returnServiceUrl:function(t){var e=this.returnCurrentUrl();switch(t){case"twitter":return'https://twitter.com/intent/tweet?text="'+encodeURI(this.title)+'"&url='+encodeURI(e);case"facebook":return"https://www.facebook.com/sharer/sharer.php?u="+encodeURI(e)+"title=&description=&quote="+encodeURI(this.title)+"&hashtag=";case"dbuzz":return"https://d.buzz/#/intent/buzz?text="+encodeURI(this.title)+"&url="+encodeURI(e)+"&tags=#hive";case"reddit":return'https://www.reddit.com/submit?url="'+encodeURI(e)+'"&title="'+encodeURI(this.title)+'"'}},share:function(t){window.open(this.returnServiceUrl(t),"_blank")}}},K=Y,X=Object(f["a"])(K,N,W,!1,null,null,null),Z=X.exports;A()(X,"components",{QBtn:S["a"]});var tt=n("5e22"),et=n.n(tt),nt={name:"postView",components:{recentPostsCarousel:i["a"],comments:L,vote:k["a"],jsonViewer:F["a"],tipButton:G["a"],accountHeader:r["a"],commentBox:q["a"],shareButtons:Z},data:function(){return{post:null,author:this.$router.currentRoute.params.author,permlink:this.$router.currentRoute.params.permlink,showVotes:!1,showShareDialog:!1,voteColumns:[{name:"voter",label:"Voter",field:"voter",sortable:!0},{name:"percent",label:"Percent",field:"percent",sortable:!0},{name:"rshares",label:"rshares",field:"rshares",sortable:!0},{name:"weight",label:"weight",field:"weight",sortable:!0},{name:"reputation",label:"reputation",field:"reputation",sortable:!0},{name:"time",label:"time",field:"time",sortable:!0}],postBody:null,postDescription:null}},watch:{$route:function(){this.init()}},computed:{account:{get:function(){return this.$store.state.hive.accounts[this.author]}},loggedInUser:{get:function(){return this.$store.state.hive.user.username}},postPastPayout:function(){var t=w.a.utc(),e=w.a.utc(this.post.cashout_time);return t>e},postMeta:function(){return this.post.json_metadata?JSON.parse(this.post.json_metadata):null}},methods:{getPost:function(t,e){var n=this;this.$hive.api.getContentAsync(t,e).then((function(t){return n.setPost(t)})).catch((function(t){return console.log(t)}))},setPost:function(t){this.post=t,this.postBody=Object(s["renderPostBody"])(this.post.body,!1,!1),document.title=t.title,t.description&&(this.postDescription=this.Sanitize(t.description))},linkHiveBlogPost:function(t,e){return"https://hive.blog/@"+t+"/"+e},linkPeakdPost:function(t,e){return"https://peakd.com/@"+t+"/"+e+"?ref=ausbitbank"},linkAccount:function(t){return"/@"+t},linkPost:function(t,e){return"/@"+t+"/"+e},linkCommunity:function(t){return"/c/"+t+"/trending"},linkTag:function(t){return"/trending/"+t},linkDetect:function(t){return t.startsWith("hive-")?this.linkCommunity(t):this.linkTag(t)},timeDelta:function(t){var e=w.a.utc(),n=w.a.utc(t),o=n.diff(e,"minutes");return w.a.duration(o,"minutes").humanize(!0)},GetHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},GetEditHistoryUrl:function(t,e){return"https://scribe.hivekings.com/?url=https%3A%2F%2Fhive.blog%2F%40"+t+"%2F"+e},Sanitize:function(t){return et()(t)},init:function(){this.post=null,this.author=this.$router.currentRoute.params.author,this.permlink=this.$router.currentRoute.params.permlink,this.getPost(this.author,this.permlink)}},mounted:function(){this.init()}},ot=nt,at=(n("df73"),n("9989")),st=n("24e8"),rt=n("eaac"),it=Object(f["a"])(ot,o,a,!1,null,"2e7c8d96",null);e["default"]=it.exports;A()(it,"components",{QPage:at["a"],QCard:O["a"],QCardSection:P["a"],QBtn:S["a"],QPopupProxy:R["a"],QList:D["a"],QItem:I["a"],QItemSection:U["a"],QAvatar:B["a"],QImg:Q["a"],QIcon:T["a"],QDialog:st["a"],QTable:rt["a"]})},df73:function(t,e,n){"use strict";var o=n("1503"),a=n.n(o);a.a}}]);