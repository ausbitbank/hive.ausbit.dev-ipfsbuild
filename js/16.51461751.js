(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{2757:function(t,e,n){},5413:function(t,e,n){"use strict";var a=n("e3bc"),s=n.n(a);s.a},6689:function(t,e,n){"use strict";var a=n("2757"),s=n.n(a);s.a},"98fb":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex q-pa-md flex-center"},[n("recent-voted-posts-carousel",{attrs:{account:t.account}})],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-card",t._l(t.votes,(function(e){return n("div",{key:e.index},[e[1].op[1].author!==t.account?n("router-link",{attrs:{to:t.returnPostPath(e[1].op[1].author,e[1].op[1].permlink)}},[t._v("\n      "+t._s(e[1].op[1].permlink)+"\n      ")]):t._e()],1)})),0),0===t.posts.length?n("q-spinner-puff",{attrs:{size:"2em",color:"primary"}}):t._e(),t.posts.length>0?n("div",[n("q-card",{attrs:{flat:"",bordered:""}},[n("div",{staticClass:"text-h6 text-center"},[n("q-icon",{attrs:{name:"rss_feed"}}),t._v(" Recently voted by "+t._s(this.account)+" "),t._e()],1),n("q-carousel",{staticClass:"bg-dark text-white shadow-2 rounded-borders",attrs:{"transition-prev":"jump-left","transition-next":"jump-right",swipeable:"",animated:"","control-color":"primary",padding:"",arrows:"",infinite:"",autoplay:t.autoplay,height:"250px"},on:{mouseenter:function(e){t.autoplay=!1},mouseleave:function(e){t.autoplay=!0}},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.posts,(function(e){return n("q-carousel-slide",{key:e.index,staticClass:"column no-wrap flex-center",attrs:{name:e.permlink,"img-src":t.returnPostImage(e)}},[n("div",{staticClass:"custom-caption"},[n("router-link",{staticClass:"text-white text-italic",attrs:{to:t.returnPostPath(e.author,e.permlink)}},[t._v(t._s(e.title.substr(0,100)))]),n("br"),t._v("\n          by "),n("span",{staticClass:"text-bold"},[t._v("@"+t._s(e.author))]),n("br"),n("span",{staticClass:"text-caption"},[t._v(t._s(t.timeDelta(e.created)))])],1),n("div",{staticClass:"absolute-bottom text-center"},[n("q-avatar",{attrs:{size:"3em"}},[n("q-img",{attrs:{src:t.getHiveAvatarUrl(e.author)}})],1)],1)])})),1),t._l(t.posts,(function(e){return n("ul",{key:e.index},[n("li",[t._v(t._s(e.author)+"\\"+t._s(e.permlink)+" : "+t._s(e.title))])])}))],2)],1):t._e()],1)},i=[],r=n("967e"),c=n.n(r),u=(n("6762"),n("2fdb"),n("4db1")),l=n.n(u),p=(n("96cf"),n("fa84")),d=n.n(p),f=n("c1df"),m=n.n(f),h=n("1c16"),v=n("d1f4"),g=v["ChainTypes"].operations,b=Object(v["makeBitMaskFilter"])([g.vote]),_={name:"recentVotedPostsCarousel",data:function(){return{posts:[],showResteems:!0,api:"https://rpc.ausbit.dev",slide:null,autoplay:!0,limit:10,settings:!1,loading:!1,votes:[],accountHistoryPointer:-1,accountHistoryLimit:100,bitmask:b}},props:{account:String},computed:{firstPermlink:function(){return this.posts.length>0?this.posts[0].permlink:null}},methods:{getPost:function(t,e){var n=this;this.$hive.api.getContentAsync(t,e).then((function(t){""!==t.title&&t.author!==n.account&&n.posts.push(t)}))},getRecentVotes:function(t){var e=this;return d()(c.a.mark((function n(){return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.next=3,e.$hive.api.callAsync("call",["database_api","get_account_history",[e.account,e.accountHistoryPointer,e.accountHistoryLimit].concat(l()(e.bitmask))]).then((function(t){e.accountHistoryPointer=parseInt(t[0][0])-1,0===e.votes.length?e.votes=t.reverse():e.votes=e.votes.concat(t.reverse()),e.loading=!1,e.votesToPosts(e.votes)})).catch((function(n){e.loading=!1,n.data&&n.cause&&n.data.stack[0].data.sequence&&n.cause.message.includes("Could not find filtered operation in")&&(e.accountHistoryPointer=n.data.stack[0].data.sequence,Object(h["a"])(e.getRecentVotes(t),100))}));case 3:case"end":return n.stop()}}),n)})))()},filterOwnPosts:function(t){return t[1].op[1].author===this.account},votesToPosts:function(t){t.filter(this.filterOwnPosts).slice(0,20).forEach(function(t){this.getPost(t[1].op[1].author,t[1].op[1].permlink)}.bind(this))},returnPostImage:function(t){if(!t.json_metadata)return null;var e=JSON.parse(t.json_metadata);return e.image&&e.image[0]?e.image[0]:null},returnPostPath:function(t,e){return"/@"+t+"/"+e},getHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},timeDelta:function(t){var e=m.a.utc(),n=m.a.utc(t),a=n.diff(e,"minutes");return m.a.duration(a,"minutes").humanize(!0)}},mounted:function(){this.getRecentVotes(this.account)}},k=_,y=(n("5413"),n("2877")),P=n("f09f"),x=n("06d5"),w=n("0016"),C=n("9c40"),q=n("880c"),Q=n("62cd"),j=n("cb32"),H=n("068f"),O=n("eebe"),R=n.n(O),V=Object(y["a"])(k,o,i,!1,null,"1e2eeaa9",null),A=V.exports;R()(V,"components",{QCard:P["a"],QSpinnerPuff:x["a"],QIcon:w["a"],QBtn:C["a"],QCarousel:q["a"],QCarouselSlide:Q["a"],QAvatar:j["a"],QImg:H["a"]});var I={name:"trailViewPage",components:{recentVotedPostsCarousel:A},data:function(){return{account:this.$route.params.account}},computed:{},methods:{},mounted:function(){document.title="Recent votes by "+this.account}},$=I,S=(n("6689"),n("9989")),z=Object(y["a"])($,a,s,!1,null,null,null);e["default"]=z.exports;R()(z,"components",{QPage:S["a"]})},e3bc:function(t,e,n){}}]);