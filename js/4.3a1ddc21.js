(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"223e":function(t,e,n){},2282:function(t,e,n){"use strict";var a=n("223e"),s=n.n(a);s.a},be57:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex flex-center q-pa-sm"},[n("div",{staticClass:"row items-start content-start justify-center"},[t.post?t._e():n("q-spinner-grid",{staticClass:"q-ma-lg",attrs:{size:"2em",color:"primary"}}),n("div",{staticClass:"col-xs-12 col-md-8 justify-center"},[t.post?n("q-card",{staticClass:"q-pa-sm",staticStyle:{"max-width":"1000px"},attrs:{flat:"",bordered:""}},[t.post.title?n("q-card-section",{staticClass:"text-h4 text-center"},[t._v("\n          "+t._s(t.post.title)+"\n        ")]):t._e(),""!==t.post.parent_author?n("q-card-section",[t._v("\n          Reply to "),n("router-link",{attrs:{to:t.linkAccount(t.post.parent_author)}},[t._v(t._s(t.post.parent_author))]),t._v(" / "),n("router-link",{attrs:{to:t.linkPost(t.post.parent_author,t.post.parent_permlink)}},[t._v(t._s(t.post.parent_permlink))])],1):t._e(),n("q-card-section",[n("Card3PostsContent",{attrs:{post:t.post}})],1),t.post.children>0?n("comments",{attrs:{author:t.post.author,permlink:t.post.permlink}}):t._e()],1):t._e()],1),n("div",{staticClass:"col-sm-12 col-md-4 text-center justify-center"},[t.post?n("q-card",{staticStyle:{"min-width":"250px"},attrs:{dense:"",flat:"",bordered:""}},[n("q-card-section",[n("q-list",{attrs:{dense:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",[n("q-img",{attrs:{src:t.GetHiveAvatarUrl(t.author)}})],1)],1),n("q-item-section",[n("router-link",{attrs:{to:t.linkAccount(t.author)}},[t._v(t._s(t.author))])],1)],1),n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"history"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},[t._v("\n                Posted "+t._s(t.timeDelta(t.post.created))+"\n              ")])],1),t.post.last_update!==t.post.created?n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"create"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},[t._v("\n                Edited "+t._s(t.timeDelta(t.post.last_update))+"\n              ")])],1):t._e(),"0.000 HBD"!==t.post.pending_payout_value||"0.000 HBD"!==t.post.total_payout_value?n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"monetization_on"}})],1),"0.000 HBD"!==t.post.pending_payout_value?n("q-item-section",{staticClass:"text-caption",attrs:{title:"Pending payout value"}},[t._v("\n                "+t._s(t.post.pending_payout_value.split(" ")[0])+" Hive Rewards\n              ")]):t._e(),"0.000 HBD"!==t.post.pending_payout_value?n("q-item-section",{attrs:{title:"Cashout time"}},[t._v("\n                "+t._s(t.timeDelta(t.post.cashout_time))+"\n              ")]):t._e(),"0.000 HBD"!==t.post.total_payout_value?n("q-item-section",{staticClass:"text-caption",attrs:{title:"Total payout value"}},[t._v("\n                "+t._s(t.post.total_payout_value)+"\n              ")]):t._e()],1):t._e(),t.post.community&&t.post.community_title?n("q-item",{attrs:{title:"Community"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"label_important"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},[t._v("\n                "+t._s(t.post.community_title)+" Community\n              ")])],1):t.post.category?n("q-item",{attrs:{title:"Category"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"label_important"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},[t._v("\n                "+t._s(t.post.category)+"\n              ")])],1):t._e(),t.post.json_metadata&&JSON.parse(t.post.json_metadata).tags?n("q-item",{attrs:{title:"Tags"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"label"}})],1),n("q-item-section",{staticClass:"text-caption text-grey"},t._l(JSON.parse(t.post.json_metadata).tags,(function(e){return n("span",{key:e.index},[t._v(t._s(e))])})),0)],1):t._e(),t.post.json_metadata&&JSON.parse(t.post.json_metadata).app?n("q-item",{attrs:{title:"App"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"fingerprint"}})],1),n("q-item-section",[t._v("\n                "+t._s(JSON.parse(t.post.json_metadata).app)+"\n              ")])],1):t._e(),t.post.active_votes.length>0?n("q-item",{attrs:{title:"Votes"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"how_to_vote"}})],1),n("q-item-section",[n("span",{staticClass:"text-blue text-bold cursor-pointer",on:{click:function(e){t.showVotes=!0}}},[t._v(t._s(t.post.active_votes.length)+" votes")])]),n("q-dialog",{model:{value:t.showVotes,callback:function(e){t.showVotes=e},expression:"showVotes"}},[n("q-card",{staticStyle:{"max-width":"95%"},attrs:{flat:"",bordered:""}},[n("q-table",{attrs:{title:"Votes",data:t.post.active_votes,columns:t.voteColumns,pagination:{sortBy:"weight",descending:!0,rowsPerPage:50},dense:"",bordered:"",separator:"cell"}})],1)],1)],1):t._e()],1)],1),t.loggedInUser&&t.postPastPayout?n("q-card-section",{staticClass:"text-caption"},[n("div",[t._v("This post is past its payout window.")]),n("div",[t._v("You can still vote, but it will not affect rewards.")])]):t._e(),t.loggedInUser?n("q-card-section",[n("vote",{attrs:{author:t.author,permlink:t.permlink,active_votes:this.post.active_votes}})],1):t._e(),n("q-card-section",[t._v("\n          View this post on "),n("a",{attrs:{href:t.linkHiveBlogPost(t.author,t.permlink)}},[t._v("Hive.blog")]),t._v(", "),n("a",{attrs:{href:t.linkPeakdPost(t.author,t.permlink)}},[t._v("Peakd")])])],1):t._e(),n("recent-posts-carousel",{attrs:{account:t.author,autoplay:!1}})],1)],1)])},s=[],o=n("099c"),i=n("1b95"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.viewComments?t._e():n("span",{staticClass:"text-center"},[n("div",{staticClass:"cursor-pointer",on:{click:function(e){t.viewComments=!t.viewComments}}},[n("q-icon",{attrs:{name:"comment"}}),t._v("  View replies")],1)]),t.viewComments?n("span",[n("center",[t.loading?n("q-spinner-grid",{staticClass:"text-center",attrs:{size:"2em",color:"primary"}}):t._e()],1),t.loading?t._e():n("q-card",{attrs:{dense:"",flat:"",bordered:""}},[n("q-card-section",{staticClass:"text-h6 text-center"},[n("q-icon",{attrs:{name:"comment"}}),t._v("Replies\n    ")],1),t._l(t.comments,(function(e){return n("span",{key:e.index},[1===e.depth?n("comment",{attrs:{comment:e,comments:t.comments,parentAuthor:t.author,parentPermlink:t.permlink,parentDepth:e.depth}}):t._e()],1)}))],2)],1):t._e()])},c=[],l=(n("ac6a"),n("cadf"),n("06db"),n("456d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return this.comment.permlink!==this.parentPermlink?n("q-card-section",[n("q-list",{attrs:{bordered:"",separator:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("center",[n("router-link",{attrs:{to:t.linkAccount(this.comment.author)}},[n("q-avatar",[n("q-img",{attrs:{src:t.GetHiveAvatarUrl(this.comment.author)}})],1),n("div",{staticClass:"text-bold"},[t._v("\n            "+t._s(this.comment.author)+"\n          ")])],1)],1)],1),n("q-item-section",[n("comment-body",{attrs:{post:t.comment}})],1),n("q-item-section",{staticClass:"text-grey text-subtitle",attrs:{side:""}},[n("router-link",{attrs:{to:t.returnLink(this.comment.author,this.comment.permlink)}},[t._v(t._s(t.timeDelta(this.comment.created)))])],1)],1)],1),t._l(t.comment.replies,(function(e){return n("span",{key:e.index},[n("comment",{attrs:{comment:t.comments[e],comments:t.comments,parentDepth:t.comment.depth}})],1)}))],2):t._e()}),m=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"postview",domProps:{innerHTML:t._s(t.postContent)}})},p=[],h=n("24d4"),d={name:"commentBody",props:["post"],data:function(){return{renderer:new h["DefaultRenderer"]({baseUrl:"https://hive.ausbit.dev/",breaks:!0,skipSanitization:!1,allowInsecureScriptTags:!1,addNofollowToLinks:!0,doNotShowImages:!1,ipfsPrefix:"",assetsWidth:640,assetsHeight:480,imageProxyFn:function(t){return t},usertagUrlFn:function(t){return"/@"+t},hashtagUrlFn:function(t){return"/trending/"+t},isLinkSafeFn:function(t){return!0}})}},computed:{postContent:function(){return this.renderer.render(this.post.body)}},methods:{}},v=d,_=n("2877"),f=Object(_["a"])(v,u,p,!1,null,null,null),g=f.exports,q=n("c1df"),b=n.n(q),w={name:"comment",data:function(){return{}},props:["comment","comments","parentAuthor","parentPermlink","parentDepth"],components:{commentBody:g,comment:V},methods:{returnLink:function(t,e){return"/@"+t+"/"+e},linkAccount:function(t){return"/@"+t},GetHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},timeDelta:function(t){var e=b.a.utc(),n=b.a.utc(t),a=n.diff(e,"minutes");return b.a.duration(a,"minutes").humanize(!0)}},mounted:function(){}},k=w,y=n("a370"),C=n("1c1c"),x=n("66e5"),P=n("4074"),Q=n("cb32"),S=n("068f"),I=n("eebe"),A=n.n(I),D=Object(_["a"])(k,l,m,!1,null,null,null),V=D.exports;A()(D,"components",{QCardSection:y["a"],QList:C["a"],QItem:x["a"],QItemSection:P["a"],QAvatar:Q["a"],QImg:S["a"]});var j={name:"comments",data:function(){return{comments:[],api:"https://rpc.ausbit.dev",viewComments:!1,loading:!1}},watch:{viewComments:function(){this.viewComments&&this.getReplies()}},props:["author","permlink"],components:{comment:V},computed:{},methods:{getReplies:function(){var t=this;this.loading=!0,this.$axios.post(this.api,{jsonrpc:"2.0",method:"bridge.get_discussion",params:{author:this.author,permlink:this.permlink}}).then((function(e){t.loading=!1,t.comments=e.data.result,t.comments=t.sortData("net_rshares",t.comments,"desc")})).catch((function(e){t.loading=!1,console.log(e)}))},sortData:function(t,e,n){var a={},s=function(n,a){return e[a][t]-e[n][t]};return"asc"===n&&(s=function(n,a){return e[n][t]-e[a][t]}),Object.keys(e).sort(s).forEach((function(t){a[t]=e[t]})),a}},mounted:function(){this.getReplies()}},H=j,U=n("0016"),$=n("981c"),L=n("f09f"),B=Object(_["a"])(H,r,c,!1,null,null,null),O=B.exports;A()(B,"components",{QIcon:U["a"],QSpinnerGrid:$["a"],QCard:L["a"],QCardSection:y["a"]});var R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.myVote&&!t.voteSent?n("span",[n("div",[t._v("Already voted on this post at "+t._s(t.myVote.percent/100)+"%")]),n("div",{staticClass:"q-pa-md"},[n("q-list",{attrs:{dense:""}},[n("q-item",[n("q-item-section",[n("q-slider",{attrs:{min:-100,max:100,label:"",color:t.voteColor},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1)],1),n("q-item",[n("q-item-section",[t.myVote.percent!==100*t.weight?n("q-btn",{attrs:{push:"",icon:t.voteIcon,color:t.voteColor,label:t.voteLabel},on:{click:function(e){return t.vote(t.permlink,t.author,t.weight)}}}):t._e()],1)],1)],1)],1)]):t.voteSent?n("span",[t._v("\n    Voted at "+t._s(t.weight)+" %\n  ")]):n("span",[n("div",{staticClass:"q-pa-md"},[n("q-list",{attrs:{dense:""}},[n("q-item",[n("q-item-section",[n("q-slider",{attrs:{min:-100,max:100,label:"",color:t.voteColor},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1)],1),n("q-item",[n("q-item-section",[n("q-btn",{attrs:{push:"",icon:t.voteIcon,color:t.voteColor,label:t.voteLabel},on:{click:function(e){return t.vote(t.permlink,t.author,t.weight)}}})],1)],1)],1)],1)])])},M=[],E=n("a34a"),T=n.n(E),z=(n("96cf"),n("c973")),G=n.n(z),J=(n("0b21"),n("8e27")),N={name:"vote",props:["votes","active_votes","author","permlink"],data:function(){return{weight:100,voteSent:!1}},computed:{loggedInUser:{get:function(){return this.$store.state.hive.user.username}},myVote:function(){return this.active_votes.filter(this.filterMyVote)[0]},voteColor:function(){return-1!==Math.sign(this.weight)?0===Math.sign(this.weight)?"grey":"green":"red"},voteIcon:function(){return-1!==Math.sign(this.weight)?0===Math.sign(this.weight)?"cancel":"thumb_up":"thumb_down"},voteLabel:function(){return-1!==Math.sign(this.weight)?0===Math.sign(this.weight)?"Undo vote on this post":"Upvote this post at "+this.weight+"%":"Downvote this post at "+this.weight+"%"}},methods:{getHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},getAccountLink:function(t){return"/@"+t},getWalletLink:function(t){return"/@"+t+"/wallet"},vote:function(t,e,n){var a=this;return G()(T.a.mark((function s(){var o,i,r,c,l,m;return T.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(J["keychain"])(window,"requestVote",a.loggedInUser,t,e,100*n);case 2:o=s.sent,i=o.success,r=o.msg,c=o.cancel,l=o.notInstalled,m=o.notActive,i&&(a.voteSent=!0),c||(m?console.error("Please allow Keychain to access this website"):l?console.error("Keychain not available"):console.info(r));case 10:case"end":return s.stop()}}),s)})))()},filterMyVote:function(t){return t.voter===this.loggedInUser}},mounted:function(){}},F=N,K=n("c1d0"),W=n("9c40"),Y=Object(_["a"])(F,R,M,!1,null,null,null),X=Y.exports;A()(Y,"components",{QList:C["a"],QItem:x["a"],QItemSection:P["a"],QSlider:K["a"],QBtn:W["a"]});var Z={name:"postView",components:{Card3PostsContent:o["a"],recentPostsCarousel:i["a"],comments:O,vote:X},data:function(){return{post:null,author:this.$router.currentRoute.params.author,permlink:this.$router.currentRoute.params.permlink,showVotes:!1,voteColumns:[{name:"voter",label:"Voter",field:"voter",sortable:!0},{name:"percent",label:"Percent",field:"percent",sortable:!0},{name:"rshares",label:"rshares",field:"rshares",sortable:!0},{name:"weight",label:"weight",field:"weight",sortable:!0},{name:"reputation",label:"reputation",field:"reputation",sortable:!0},{name:"time",label:"time",field:"time",sortable:!0}]}},watch:{$route:function(){this.init()}},computed:{loggedInUser:{get:function(){return this.$store.state.hive.user.username}},postPastPayout:function(){var t=b.a.utc(),e=b.a.utc(this.post.cashout_time);return t>e}},methods:{getPost:function(t,e){var n=this;this.$hive.api.getContentAsync(t,e).then((function(t){return n.setPost(t)})).catch((function(t){return console.log(t)}))},setPost:function(t){this.post=t,document.title=t.title},linkHiveBlogPost:function(t,e){return"https://hive.blog/@"+t+"/"+e},linkPeakdPost:function(t,e){return"https://peakd.com/@"+t+"/"+e},linkAccount:function(t){return"/@"+t},linkPost:function(t,e){return"/@"+t+"/"+e},timeDelta:function(t){var e=b.a.utc(),n=b.a.utc(t),a=n.diff(e,"minutes");return b.a.duration(a,"minutes").humanize(!0)},GetHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},init:function(){this.post=null,this.author=this.$router.currentRoute.params.author,this.permlink=this.$router.currentRoute.params.permlink,this.getPost(this.author,this.permlink)}},mounted:function(){this.init()}},tt=Z,et=(n("2282"),n("9989")),nt=n("24e8"),at=n("eaac"),st=Object(_["a"])(tt,a,s,!1,null,"3a38b2ec",null);e["default"]=st.exports;A()(st,"components",{QPage:et["a"],QSpinnerGrid:$["a"],QCard:L["a"],QCardSection:y["a"],QList:C["a"],QItem:x["a"],QItemSection:P["a"],QAvatar:Q["a"],QImg:S["a"],QIcon:U["a"],QDialog:nt["a"],QTable:at["a"]})}}]);