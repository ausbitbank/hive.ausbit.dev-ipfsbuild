(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"4a34":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-expansion-item",{attrs:{dense:"","dense-toggle":"","expand-separator":"",icon:"redeem","header-class":"text-primary",label:e.heading,title:"Click to view full delegation information"}},[n("q-list",{attrs:{dense:""}},[e._l(e.delegations,(function(t){return n("q-item",{key:t.id,attrs:{label:"Delegations"}},[n("q-item-section",{attrs:{avatar:""}},[n("router-link",{attrs:{to:e.returnAccountLink(t.delegatee)}},[n("q-avatar",{attrs:{size:"sm"}},[n("q-img",{attrs:{src:e.getHiveAvatarUrl(t.delegatee)}})],1)],1)],1),n("q-item-section",[n("router-link",{attrs:{to:e.returnAccountLink(t.delegatee)}},[e._v(e._s(t.delegatee))])],1),n("q-item-section",[e._v("\n        "+e._s(e.tidyNumber(e.vestToHive(t.vesting_shares)))+" "+e._s(e.token)+"\n      ")]),n("q-item-section",[e._v("\n        "+e._s(e.timeDelta(t.min_delegation_time))+"\n      ")]),e.username===e.loggedInUser?n("q-item-section",[n("q-btn",{attrs:{flat:"",color:"orange",icon:"edit",title:"Modify delegation"},on:{click:function(n){e.to=t.delegatee,e.amountVests=parseFloat(t.vesting_shares.split(" ")[0]),e.delegationDialogVisible=!0}}})],1):e._e()],1)})),n("q-item",[n("q-item-section",[n("q-btn",{attrs:{disable:e.loggedInUser!==e.username,icon:"add",color:"primary",flat:"",label:"Delegate your Hive Power"},on:{click:function(t){e.to="",e.amountVests=0,e.delegationDialogVisible=!0}}})],1)],1)],2),n("q-dialog",{model:{value:e.delegationDialogVisible,callback:function(t){e.delegationDialogVisible=t},expression:"delegationDialogVisible"}},[n("delegationDialog",{attrs:{username:e.username,toModify:e.to,delegations:e.delegations,tokenName:"HIVE",amountVestsSuggest:e.amountVests}})],1)],1)},a=[],o=(n("a481"),n("6b54"),n("06db"),n("28a5"),n("c1df")),s=n.n(o),l={name:"delegations",props:["username"],data:function(){return{delegations:null,error:null,token:"HP",to:"",delegationDialogVisible:!1,amountVests:null}},components:{delegationDialog:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"3d4c"))}},computed:{globalProps:function(){return this.$store.state.hive.globalProps},loggedInUser:function(){return this.$store.state.hive.user.username},account:function(){return this.$store.state.hive.accounts[this.username]},heading:function(){return this.delegations&&this.delegations.length>0?this.tidyNumber(this.vestToHive(this.account.delegated_vesting_shares.split(" ")[0]))+" "+this.token+" delegated from "+this.username+" to "+this.delegations.length+" accounts":this.delegations?"No outgoing delegations":"Loading Delegations .."}},methods:{getDelegations:function(){var e=this;this.$hive.api.callAsync("condenser_api.get_vesting_delegations",[this.username,"",100]).then((function(t){e.delegations=t})).error((function(t){e.error=t.cause.data}))},timeDelta:function(e){var t=s.a.utc(),n=s.a.utc(e),i=n.diff(t,"minutes");return s.a.duration(i,"minutes").humanize(!0)},vestToHive:function(e){return this.globalProps?this.$hive.formatter.vestToHive(e,this.globalProps.total_vesting_shares,this.globalProps.total_vesting_fund_hive).toFixed(3):null},getHiveAvatarUrl:function(e){return"https://images.hive.blog/u/"+e+"/avatar"},tidyNumber:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},returnAccountLink:function(e){return"/@"+e}},mounted:function(){this.globalProps.empty&&this.$store.dispatch("hive/getGlobalProps"),this.getDelegations()}},r=l,u=n("2877"),g=n("3b73"),c=n("1c1c"),d=n("66e5"),m=n("4074"),h=n("cb32"),v=n("068f"),f=n("9c40"),p=n("24e8"),b=n("eebe"),_=n.n(b),k=Object(u["a"])(r,i,a,!1,null,null,null);t["default"]=k.exports;_()(k,"components",{QExpansionItem:g["a"],QList:c["a"],QItem:d["a"],QItemSection:m["a"],QAvatar:h["a"],QImg:v["a"],QBtn:f["a"],QDialog:p["a"]})}}]);