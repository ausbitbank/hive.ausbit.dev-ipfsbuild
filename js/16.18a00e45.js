(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{2564:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return void 0!==this.account?a("q-page",{staticClass:"text-center"},[a("account-header",{attrs:{globalProps:this.globalProps,account:this.account,showBalances:!1}}),a("q-card",{staticClass:"text-center q-ma-lg q-pa-md",staticStyle:{"max-width":"400px",margin:"auto"},attrs:{padding:"",rounded:""}},[a("community-feed-carousel",{attrs:{account:t.account.name}}),this.$store.state.hive.user.username===t.account.name?a("div",[a("router-link",{attrs:{to:"/created/my"}},[t._v("View my community feed")])],1):t._e(),t._v("\n        "+t._s(t.account.name)+" is subscribed to these communities :\n      "),a("q-list",{attrs:{bordered:"",separator:""}},t._l(t.subscriptions,(function(e){return a("q-item",{key:e.index},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",[a("router-link",{attrs:{to:t.linkCommunity(e[0])}},[a("img",{attrs:{src:t.getHiveAvatarUrl(e[0])}})])],1)],1),a("q-item-section",[a("router-link",{staticClass:"text-white",attrs:{to:t.linkCommunity(e[0])}},[t._v(t._s(e[1]))]),a("div",[""!==e[2]?a("q-chip",{attrs:{dense:"",color:"primary"}},[t._v(t._s(e[2]))]):t._e()],1),t._v("\n          "+t._s(e[3])+"\n          ")],1)],1)})),1)],1)],1):t._e()},n=[],i=a("6841"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?t._e():a("div",[a("q-card",{attrs:{flat:"",bordered:""}},[a("div",{staticClass:"text-h6 text-center"},[a("q-icon",{attrs:{name:"forum",color:"teal"}}),t._v(" Community Feed for "+t._s(this.account)+"\n    ")],1),t.posts.length>0?a("q-carousel",{staticClass:"bg-dark text-white shadow-2 rounded-borders",attrs:{"transition-prev":"jump-left","transition-next":"jump-right",swipeable:"",animated:"","control-color":"primary",padding:"",arrows:"",infinite:"",autoplay:t.autoplaySlides,height:"250px",width:"450px"},on:{mouseenter:function(e){t.autoplaySlides=!1}},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.posts,(function(e){return a("q-carousel-slide",{key:e.index,staticClass:"column no-wrap flex-center",attrs:{name:e.permlink,"img-src":t.returnPostImage(e)}},[a("div",{staticClass:"custom-caption"},[a("router-link",{attrs:{to:t.returnPostPath(e.author,e.permlink)}},[t._v(t._s(t.s(e.title).substr(0,100)))]),a("br"),t._v("\n          by "),a("span",{staticClass:"text-bold"},[a("router-link",{attrs:{to:t.linkAccount(e.author)}},[t._v("@"+t._s(e.author))])],1),a("br"),a("span",{staticClass:"text-caption"},[t._v(t._s(t.timeDelta(e.created)))]),a("br"),e.json_metadata.description?a("span",{staticClass:"text-caption wrap"},[t._v(" "+t._s(t.s(e.json_metadata.description).substr(0,100)))]):a("span",{staticClass:"text-caption wrap"},[t._v(" "+t._s(t.returnPostSummary(e)))])],1),a("div",{staticClass:"absolute-bottom text-center"},[a("q-avatar",{attrs:{size:"3em"}},[a("q-img",{attrs:{src:t.getHiveAvatarUrl(e.author)}})],1)],1)])})),1):t._e()],1)],1)])},o=[],c=a("967e"),u=a.n(c),l=(a("96cf"),a("fa84")),m=a.n(l),d=a("c1df"),p=a.n(d),h=a("5e22"),f=a.n(h),v=a("0879"),g={name:"communityFeedCarousel",data:function(){return{posts:[],showResteems:!0,slide:null,limit:10,settings:!1,loading:!1,autoplaySlides:this.autoplay,postType:this.type}},watch:{$route:function(){this.getRecentPosts()}},props:{account:String,autoplay:{type:Boolean,required:!1,default:!0}},computed:{firstPermlink:function(){return this.posts.length>0?this.posts[0].permlink:null},autoplayProp:function(){return this.autoplay}},methods:{returnPostImage:function(t){return Object(v["catchPostImage"])(t)},returnPostPath:function(t,e){return"/@"+t+"/"+e},returnPostSummary:function(t){return Object(v["postBodySummary"])(t,150)},linkAccount:function(t){return"/@"+t},getHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},timeDelta:function(t){var e=p.a.utc(),a=p.a.utc(t),s=a.diff(e,"minutes");return p.a.duration(s,"minutes").humanize(!0)},getCommunityFeed:function(){var t=this;return m()(u.a.mark((function e(){var a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,t.posts=[],a={sort:"created",limit:t.limit,observer:t.account,tag:"my"},t.$hive.api.callAsync("bridge.get_ranked_posts",a).then((function(e){t.loading=!1,t.posts=e,t.slide=t.firstPermlink}));case 4:case"end":return e.stop()}}),e)})))()},s:function(t){var e={allowedTags:[],allowedAttributes:[],disallowedTagsMode:"discard"};return f()(t,e)},init:function(){this.getCommunityFeed()}},mounted:function(){this.init()}},b=g,y=(a("3a722"),a("2877")),_=a("f09f"),w=a("0016"),C=a("880c"),k=a("62cd"),x=a("cb32"),P=a("068f"),q=a("eebe"),Q=a.n(q),A=Object(y["a"])(b,r,o,!1,null,"3f47a32f",null),S=A.exports;Q()(A,"components",{QCard:_["a"],QIcon:w["a"],QCarousel:C["a"],QCarouselSlide:k["a"],QAvatar:x["a"],QImg:P["a"]});var $={name:"browsePage",components:{accountHeader:i["a"],communityFeedCarousel:S},computed:{globalProps:{get:function(){return this.$store.state.hive.globalProps}},account:{get:function(){return this.$store.state.hive.accounts[this.username]}}},data:function(){return{username:this.$route.params.username||this.$route.params.account,subscriptions:null}},methods:{getHiveAvatarUrl:function(t){return"https://images.hive.blog/u/"+t+"/avatar"},linkCommunity:function(t){return"/c/"+t+"/trending"},getCommunitySubscriptions:function(){var t=this,e={account:this.username};this.$hive.api.callAsync("bridge.list_all_subscriptions",e).then((function(e){t.subscriptions=e})).catch((function(){console.error("Failed to get subscriptions for "+t.username)}))}},mounted:function(){this.globalProps.empty&&this.$store.dispatch("hive/getGlobalProps"),void 0===this.account&&this.$store.dispatch("hive/getAccount",this.username),null===this.subscriptions&&this.getCommunitySubscriptions()}},j=$,I=a("9989"),F=a("1c1c"),H=a("66e5"),O=a("4074"),U=a("b047"),B=Object(y["a"])(j,s,n,!1,null,null,null);e["default"]=B.exports;Q()(B,"components",{QPage:I["a"],QCard:_["a"],QList:F["a"],QItem:H["a"],QItemSection:O["a"],QAvatar:x["a"],QChip:U["a"]})},"3a722":function(t,e,a){"use strict";var s=a("e36d"),n=a.n(s);n.a},e36d:function(t,e,a){}}]);