(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"42df":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex q-pa-md flex-center"},[void 0!==e.globalProps&&null!==e.globalProps?a("q-card",[a("q-card-section",[a("div",{staticClass:"text-bold"},[e._v("Rule : HBD Marketcap cannot be more then 10% total HIVE marketcap")]),a("div",[e._v("HBD Marketcap = $"+e._s(e.tidyNumber(e.hbdCap)))]),a("div",[e._v("Hive Marketcap = $"+e._s(e.tidyNumber(e.hiveCap)))]),a("div",[a("q-linear-progress",{attrs:{stripe:"",size:"10px",value:e.percentCap/10,color:e.percentColor}})],1),a("div",[e._v("HBD Marketcap is currently "),a("span",{staticClass:"text-bold"},[e._v(e._s(e.percentCap))]),e._v(" % of Hive Marketcap")]),null!==e.medianPrice?a("div",[e._v("HIVE median price must stay above "),a("span",{staticClass:"text-bold"},[e._v("$"+e._s(e.haircutPrice))]),e._v(" to avoid haircut (now $"+e._s(e.medianPrice.base.split(" ")[0]/parseFloat(e.medianPrice.quote.split(" ")[0]))+")")]):e._e()]),e.percentCap>=9&&e.percentCap<10&&1e4!==e.globalProps.hbd_print_rate?a("q-card-section",[a("div",{staticClass:"text-bold"},[a("q-icon",{attrs:{name:"warning",color:"orange"}}),e._v("Print Rate slowed to "+e._s(e.globalProps.hbd_print_rate/100)+" %")],1)]):e._e(),e.percentCap<10?a("q-card-section",[a("div",{staticClass:"text-bold"},[a("q-icon",{attrs:{name:"info",color:"primary"}}),e._v("Normal Conditions Apply:")],1),a("div",{staticClass:"text-subtitle"},[e._v("Redeem each HBD for $1 of Hive at 3.5 day avg market price ($"+e._s(e.medianPrice.base.split(" ")[0]/parseFloat(e.medianPrice.quote.split(" ")[0]))+")")])]):e._e(),e.percentCap>10&&null!==e.medianPrice?a("q-card-section",[a("div",{staticClass:"text-bold"},[a("q-icon",{attrs:{name:"warning",color:"red"}}),e._v("Haircut Conditions Apply:")],1),a("div",[e._v("Formula for redemption price during a haircut :")]),a("div",[a("code",[e._v("(TOTAL ISSUED HIVE x INTERNAL MARKET PRICE) /  (10 x TOTAL ISSUED HBD)")])]),a("div",[a("code",[e._v("("+e._s(parseFloat(e.globalProps.current_supply.split(" ")[0]))+" * "+e._s(parseFloat(e.medianPrice.base.split(" ")[0])/parseFloat(e.medianPrice.quote.split(" ")[0]))+") / (10 x "+e._s(e.globalProps.current_hbd_supply)+")")])]),a("div",[e._v("Redemption price during haircut : "+e._s(parseFloat(e.globalProps.current_supply.split(" ")[0])*parseFloat(e.medianPrice.base.split(" ")[0])/parseFloat(e.medianPrice.quote.split(" ")[0])/(10*parseFloat(e.globalProps.current_hbd_supply.split(" ")[0]))))])]):e._e(),e._e()],1):e._e(),a("coingecko",{attrs:{coins:["hive_dollar"]}})],1)},r=[],o=(a("a481"),a("6b54"),a("06db"),a("28a5"),a("1c16")),n=a("da6c"),s={name:"hbd",data:function(){return{medianPrice:null,daoHbdBalance:0}},components:{coingecko:n["a"]},computed:{globalProps:{get:function(){return this.$store.state.hive.globalProps}},percentColor:function(){return this.percentCap>=9?"red":this.percentCap>=8?"orange":"green"},hiveCap:function(){return void 0!==this.globalProps&&null!==this.medianPrice?parseFloat(parseFloat(this.globalProps.current_supply.split(" ")[0])*parseFloat(this.medianPrice.base.split(" ")[0]).toFixed(3)/parseFloat(this.medianPrice.quote.split(" ")[0])).toFixed(3):null},hbdCap:function(){return void 0!==this.globalProps.current_hbd_supply?(parseFloat(this.globalProps.current_hbd_supply.split(" ")[0])-parseFloat(this.daoHbdBalance)).toFixed(3):null},percentCap:function(){return parseFloat(this.hbdCap/this.hiveCap*100).toFixed(3)},haircutPrice:function(){return parseFloat(10*this.hbdCap/parseFloat(this.globalProps.current_supply.split(" ")[0])).toFixed(3)}},methods:{tidyNumber:function(e){if(null==e)return null;var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},getMedianPrice:function(){var e=this;this.$hive.api.getCurrentMedianHistoryPriceAsync().then((function(t){e.medianPrice=t})).catch((function(){console.log("Failed to get median price - retrying"),Object(o["a"])(e.getMedianPrice(),50)}))},getDaoBalance:function(){var e=this;this.$hive.api.getAccountsAsync(["hive.fund"]).then((function(t){e.daoHbdBalance=t[0].hbd_balance.split(" ")[0]})).catch((function(){return console.log("Failed to load @hive.fund profile")}))}},mounted:function(){document.title="Hive Dollar Monitor",this.getDaoBalance(),this.getMedianPrice()},created:function(){this.$store.dispatch("hive/getGlobalProps")}},l=s,c=(a("9dbe"),a("2877")),p=a("9989"),d=a("f09f"),u=a("a370"),b=a("6b1d"),h=a("0016"),v=a("1c1c"),_=a("66e5"),g=a("eebe"),m=a.n(g),P=Object(c["a"])(l,i,r,!1,null,"35d142e0",null);t["default"]=P.exports;m()(P,"components",{QPage:p["a"],QCard:d["a"],QCardSection:u["a"],QLinearProgress:b["a"],QIcon:h["a"],QList:v["a"],QItem:_["a"]})},"9dbe":function(e,t,a){"use strict";var i=a("aaf9"),r=a.n(i);r.a},aaf9:function(e,t,a){}}]);